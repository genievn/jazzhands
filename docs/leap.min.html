<!DOCTYPE html>

<html>
<head>
  <title>leap.min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="documentation.html">
                documentation.js
              </a>
            
              
              <a class="source" href="jazz.html">
                jazz.js
              </a>
            
              
              <a class="source" href="jazz.min.html">
                jazz.min.js
              </a>
            
              
              <a class="source" href="jazz_config.html">
                jazz_config.js
              </a>
            
              
              <a class="source" href="jazz_event_helper.html">
                jazz_event_helper.js
              </a>
            
              
              <a class="source" href="jazz_events.html">
                jazz_events.js
              </a>
            
              
              <a class="source" href="jazz_hands.html">
                jazz_hands.js
              </a>
            
              
              <a class="source" href="jazz_ui.html">
                jazz_ui.js
              </a>
            
              
              <a class="source" href="jazz_ui_helper.html">
                jazz_ui_helper.js
              </a>
            
              
              <a class="source" href="leap.min.html">
                leap.min.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>leap.min.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>!function(t,e,n){function i(n,a){if(!e[n]){if(!t[n]){var r="function"==typeof require&amp;&amp;require;if(!a&amp;&amp;r)return r(n,!0);if(o)return o(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=e[n]={exports:{}};t[n][0].call(s.exports,function(e){var o=t[n][1][e];return i(o?o:e)},s,s.exports)}return e[n].exports}for(var o="function"==typeof require&amp;&amp;require,a=0;a&lt;n.length;a++)i(n[a]);return i}({1:[function(t,e){var n=t("./protocol").chooseProtocol,i=t("events").EventEmitter,o=t("underscore"),a=e.exports=function(t){this.opts=o.defaults(t||{},{host:"127.0.0.1",enableGestures:!1,port:6437,enableHeartbeat:!0,heartbeatInterval:100,requestProtocolVersion:3}),this.host=this.opts.host,this.port=this.opts.port,this.on("ready",function(){this.enableGestures(this.opts.enableGestures),this.opts.enableHeartbeat&amp;&amp;this.startHeartbeat()}),this.on("disconnect",function(){this.opts.enableHeartbeat&amp;&amp;this.stopHeartbeat()}),this.heartbeatTimer=null};a.prototype.getUrl=function(){return"ws://"+this.host+":"+this.port+"/v"+this.opts.requestProtocolVersion+".json"},a.prototype.sendHeartbeat=function(){this.protocol&amp;&amp;(this.setHeartbeatState(!0),this.protocol.sendHeartbeat(this))},a.prototype.handleOpen=function(){this.connected!==!0&amp;&amp;(this.connected=!0,this.emit("connect"))},a.prototype.enableGestures=function(t){this.gesturesEnabled=t?!0:!1,this.send(this.protocol.encode({enableGestures:this.gesturesEnabled}))},a.prototype.handleClose=function(){this.connected&amp;&amp;(this.disconnect(),this.startReconnection())},a.prototype.startReconnection=function(){var t=this;setTimeout(function(){t.connect()},1e3)},a.prototype.disconnect=function(){this.socket&amp;&amp;(this.socket.close(),this.connected=!1,delete this.socket,delete this.protocol,this.emit("disconnect"))},a.prototype.handleData=function(t){var e,i=JSON.parse(t);void 0===this.protocol?(e=this.protocol=n(i),this.emit("ready")):e=this.protocol(i),this.emit(e.type,e)},a.prototype.connect=function(){return this.socket?void 0:(this.socket=this.setupSocket(),!0)},a.prototype.send=function(t){this.socket.send(t)},a.prototype.stopHeartbeat=function(){this.heartbeatTimer&amp;&amp;(clearInterval(this.heartbeatTimer),delete this.heartbeatTimer,this.setHeartbeatState(!1))},a.prototype.setHeartbeatState=function(t){this.heartbeatState!==t&amp;&amp;(this.heartbeatState=t,this.emit(this.heartbeatState?"focus":"blur"))},o.extend(a.prototype,i.prototype)},{"./protocol":12,events:17,underscore:20}],2:[function(t,e){var n=e.exports=function(t){this.pos=0,this._buf=[],this.size=t};n.prototype.get=function(t){return void 0==t&amp;&amp;(t=0),t&gt;=this.size?void 0:t&gt;=this._buf.length?void 0:this._buf[(this.pos-t-1)%this.size]},n.prototype.push=function(t){return this._buf[this.pos%this.size]=t,this.pos++}},{}],3:[function(t,e){var n=e.exports=t("./base_connection");n.prototype.setupSocket=function(){var t=this,e=new WebSocket(this.getUrl());return e.onopen=function(){t.handleOpen()},e.onmessage=function(e){t.handleData(e.data)},e.onclose=function(){t.handleClose()},e},n.prototype.startHeartbeat=function(){if(this.protocol.sendHeartbeat&amp;&amp;!this.heartbeatTimer){var t=this,e=null;e="undefined"!=typeof document.hidden?"hidden":"undefined"!=typeof document.mozHidden?"mozHidden":"undefined"!=typeof document.msHidden?"msHidden":"undefined"!=typeof document.webkitHidden?"webkitHidden":void 0;var n=!0,i=window.addEventListener("focus",function(){n=!0}),o=window.addEventListener("blur",function(){n=!1});this.on("disconnect",function(){t.heartbeatTimer&amp;&amp;(clearTimeout(t.heartbeatTimer),delete t.heartbeatTimer),window.removeEventListener("focus",i),window.removeEventListener("blur",o)}),this.heartbeatTimer=setInterval(function(){var i=void 0===e?!0:document[e]===!1;i&amp;&amp;n?t.sendHeartbeat():t.setHeartbeatState(!1)},this.opts.heartbeatInterval)}}},{"./base_connection":1}],4:[function(t,e){var n=t("__browserify_process"),i=t("./frame"),o=t("./circular_buffer"),a=t("./pipeline"),r=t("events").EventEmitter,s=t("./gesture").gestureListener,c=t("underscore"),l=e.exports=function(e){var a="undefined"!=typeof n&amp;&amp;"node"===n.title;e=c.defaults(e||{},{inNode:a}),this.inNode=e.inNode,e=c.defaults(e||{},{frameEventName:this.useAnimationLoop()?"animationFrame":"deviceFrame",suppressAnimationLoop:!1}),this.suppressAnimationLoop=e.suppressAnimationLoop,this.frameEventName=e.frameEventName,this.history=new o(200),this.lastFrame=i.Invalid,this.lastValidFrame=i.Invalid,this.lastConnectionFrame=i.Invalid,this.accumulatedGestures=[],this.connectionType=void 0===e.connectionType?this.inBrowser()?t("./connection"):t("./node_connection"):e.connectionType,this.connection=new this.connectionType(e),this.setupConnectionEvents()};l.prototype.gesture=function(t,e){var n=s(this,t);return void 0!==e&amp;&amp;n.stop(e),n},l.prototype.inBrowser=function(){return!this.inNode},l.prototype.useAnimationLoop=function(){return this.inBrowser()&amp;&amp;"undefined"==typeof chrome},l.prototype.connect=function(){var t=this;if(this.connection.connect()&amp;&amp;this.inBrowser()&amp;&amp;!t.suppressAnimationLoop){var e=function(){t.emit("animationFrame",t.lastConnectionFrame),window.requestAnimationFrame(e)};window.requestAnimationFrame(e)}},l.prototype.disconnect=function(){this.connection.disconnect()},l.prototype.frame=function(t){return this.history.get(t)||i.Invalid},l.prototype.loop=function(t){switch(t.length){case 1:this.on(this.frameEventName,t);break;case 2:var e=this,n=function(i){t(i,function(){e.lastFrame!=i?n(e.lastFrame):e.once(e.frameEventName,n)})};this.once(this.frameEventName,n)}this.connect()},l.prototype.addStep=function(t){this.pipeline||(this.pipeline=new a(this)),this.pipeline.addStep(t)},l.prototype.processFrame=function(t){t.gestures&amp;&amp;(this.accumulatedGestures=this.accumulatedGestures.concat(t.gestures)),this.pipeline&amp;&amp;(t=this.pipeline.run(t),t||(t=i.Invalid)),this.lastConnectionFrame=t,this.emit("deviceFrame",t)},l.prototype.processFinishedFrame=function(t){if(this.lastFrame=t,t.valid&amp;&amp;(this.lastValidFrame=t),t.controller=this,t.historyIdx=this.history.push(t),t.gestures){t.gestures=this.accumulatedGestures,this.accumulatedGestures=[];for(var e=0;e!=t.gestures.length;e++)this.emit("gesture",t.gestures[e],t)}this.emit("frame",t)},l.prototype.setupConnectionEvents=function(){var t=this;this.connection.on("frame",function(e){t.processFrame(e)}),this.on(this.frameEventName,function(e){t.processFinishedFrame(e)}),this.connection.on("disconnect",function(){t.emit("disconnect")}),this.connection.on("ready",function(){t.emit("ready")}),this.connection.on("connect",function(){t.emit("connect")}),this.connection.on("focus",function(){t.emit("focus")}),this.connection.on("blur",function(){t.emit("blur")}),this.connection.on("protocol",function(e){t.emit("protocol",e)}),this.connection.on("deviceConnect",function(e){t.emit(e.state?"deviceConnected":"deviceDisconnected")})},c.extend(l.prototype,r.prototype)},{"./circular_buffer":2,"./connection":3,"./frame":5,"./gesture":6,"./node_connection":16,"./pipeline":10,__browserify_process:18,events:17,underscore:20}],5:[function(t,e){var n=t("./hand"),i=t("./pointable"),o=t("./gesture").createGesture,a=t("gl-matrix"),r=a.mat3,s=a.vec3,c=t("./interaction_box"),l=t("underscore"),u=e.exports=function(t){this.valid=!0,this.id=t.id,this.timestamp=t.timestamp,this.hands=[],this.handsMap={},this.pointables=[],this.tools=[],this.fingers=[],t.interactionBox&amp;&amp;(this.interactionBox=new c(t.interactionBox)),this.gestures=[],this.pointablesMap={},this._translation=t.t,this._rotation=l.flatten(t.r),this._scaleFactor=t.s,this.data=t,this.type="frame",this.currentFrameRate=t.currentFrameRate;for(var e={},a=0,r=t.hands.length;a!=r;a++){var s=new n(t.hands[a]);s.frame=this,this.hands.push(s),this.handsMap[s.id]=s,e[s.id]=a}for(var u=0,h=t.pointables.length;u!=h;u++){var f=new i(t.pointables[u]);if(f.frame=this,this.pointables.push(f),this.pointablesMap[f.id]=f,(f.tool?this.tools:this.fingers).push(f),void 0!==f.handId&amp;&amp;e.hasOwnProperty(f.handId)){var s=this.hands[e[f.handId]];s.pointables.push(f),(f.tool?s.tools:s.fingers).push(f)}}if(t.gestures)for(var p=0,d=t.gestures.length;p!=d;p++)this.gestures.push(o(t.gestures[p]))};u.prototype.tool=function(t){var e=this.pointable(t);return e.tool?e:i.Invalid},u.prototype.pointable=function(t){return this.pointablesMap[t]||i.Invalid},u.prototype.finger=function(t){var e=this.pointable(t);return e.tool?i.Invalid:e},u.prototype.hand=function(t){return this.handsMap[t]||n.Invalid},u.prototype.rotationAngle=function(t,e){if(!this.valid||!t.valid)return 0;var n=this.rotationMatrix(t),i=.5*(n[0]+n[4]+n[8]-1),o=Math.acos(i);if(o=isNaN(o)?0:o,void 0!==e){var a=this.rotationAxis(t);o*=s.dot(a,s.normalize(s.create(),e))}return o},u.prototype.rotationAxis=function(t){return this.valid&amp;&amp;t.valid?s.normalize(s.create(),[this._rotation[7]-t._rotation[5],this._rotation[2]-t._rotation[6],this._rotation[3]-t._rotation[1]]):s.create()},u.prototype.rotationMatrix=function(t){if(!this.valid||!t.valid)return r.create();var e=r.transpose(r.create(),this._rotation);return r.multiply(r.create(),t._rotation,e)},u.prototype.scaleFactor=function(t){return this.valid&amp;&amp;t.valid?Math.exp(this._scaleFactor-t._scaleFactor):1},u.prototype.translation=function(t){return this.valid&amp;&amp;t.valid?s.subtract(s.create(),this._translation,t._translation):s.create()},u.prototype.toString=function(){var t="Frame [ id:"+this.id+" | timestamp:"+this.timestamp+" | Hand count:("+this.hands.length+") | Pointable count:("+this.pointables.length+")";return this.gestures&amp;&amp;(t+=" | Gesture count:("+this.gestures.length+")"),t+=" ]"},u.prototype.dump=function(){var t="";t+="Frame Info:&lt;br/&gt;",t+=this.toString(),t+="&lt;br/&gt;&lt;br/&gt;Hands:&lt;br/&gt;";for(var e=0,n=this.hands.length;e!=n;e++)t+="  "+this.hands[e].toString()+"&lt;br/&gt;";t+="&lt;br/&gt;&lt;br/&gt;Pointables:&lt;br/&gt;";for(var i=0,o=this.pointables.length;i!=o;i++)t+="  "+this.pointables[i].toString()+"&lt;br/&gt;";if(this.gestures){t+="&lt;br/&gt;&lt;br/&gt;Gestures:&lt;br/&gt;";for(var a=0,r=this.gestures.length;a!=r;a++)t+="  "+this.gestures[a].toString()+"&lt;br/&gt;"}return t+="&lt;br/&gt;&lt;br/&gt;Raw JSON:&lt;br/&gt;",t+=JSON.stringify(this.data)},u.Invalid={valid:!1,hands:[],fingers:[],tools:[],gestures:[],pointables:[],pointable:function(){return i.Invalid},finger:function(){return i.Invalid},hand:function(){return n.Invalid},toString:function(){return"invalid frame"},dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return r.create()},rotationAxis:function(){return s.create()},scaleFactor:function(){return 1},translation:function(){return s.create()}}},{"./gesture":6,"./hand":7,"./interaction_box":9,"./pointable":11,"gl-matrix":19,underscore:20}],6:[function(t,e,n){var i=t("gl-matrix"),o=(i.vec3,t("events").EventEmitter),a=t("underscore");n.createGesture=function(t){var e;switch(t.type){case"circle":e=new s(t);break;case"swipe":e=new c(t);break;case"screenTap":e=new l(t);break;case"keyTap":e=new u(t);break;default:throw"unkown gesture type"}return e.id=t.id,e.handIds=t.handIds,e.pointableIds=t.pointableIds,e.duration=t.duration,e.state=t.state,e.type=t.type,e},n.gestureListener=function(t,e){var n={},i={};t.on("gesture",function(t,o){if(t.type==e){if(("start"==t.state||"stop"==t.state)&amp;&amp;void 0===i[t.id]){var s=new r(t,o);i[t.id]=s,a.each(n,function(t,e){s.on(e,t)})}i[t.id].update(t,o),"stop"==t.state&amp;&amp;delete i[t.id]}});var o={start:function(t){return n.start=t,o},stop:function(t){return n.stop=t,o},complete:function(t){return n.stop=t,o},update:function(t){return n.update=t,o}};return o};var r=n.Gesture=function(t,e){this.gestures=[t],this.frames=[e]};r.prototype.update=function(t,e){this.gestures.push(t),this.frames.push(e),this.emit(t.state,this)},a.extend(r.prototype,o.prototype);var s=function(t){this.center=t.center,this.normal=t.normal,this.progress=t.progress,this.radius=t.radius};s.prototype.toString=function(){return"CircleGesture ["+JSON.stringify(this)+"]"};var c=function(t){this.startPosition=t.startPosition,this.position=t.position,this.direction=t.direction,this.speed=t.speed};c.prototype.toString=function(){return"SwipeGesture ["+JSON.stringify(this)+"]"};var l=function(t){this.position=t.position,this.direction=t.direction,this.progress=t.progress};l.prototype.toString=function(){return"ScreenTapGesture ["+JSON.stringify(this)+"]"};var u=function(t){this.position=t.position,this.direction=t.direction,this.progress=t.progress};u.prototype.toString=function(){return"KeyTapGesture ["+JSON.stringify(this)+"]"}},{events:17,"gl-matrix":19,underscore:20}],7:[function(t,e){var n=t("./pointable"),i=t("gl-matrix"),o=i.mat3,a=i.vec3,r=t("underscore"),s=e.exports=function(t){this.id=t.id,this.palmPosition=t.palmPosition,this.direction=t.direction,this.palmVelocity=t.palmVelocity,this.palmNormal=t.palmNormal,this.sphereCenter=t.sphereCenter,this.sphereRadius=t.sphereRadius,this.valid=!0,this.pointables=[],this.fingers=[],this.tools=[],this._translation=t.t,this._rotation=r.flatten(t.r),this._scaleFactor=t.s,this.timeVisible=t.timeVisible,this.stabilizedPalmPosition=t.stabilizedPalmPosition};s.prototype.finger=function(t){var e=this.frame.finger(t);return e&amp;&amp;e.handId==this.id?e:n.Invalid},s.prototype.rotationAngle=function(t,e){if(!this.valid||!t.valid)return 0;var n=t.hand(this.id);if(!n.valid)return 0;var i=this.rotationMatrix(t),o=.5*(i[0]+i[4]+i[8]-1),r=Math.acos(o);if(r=isNaN(r)?0:r,void 0!==e){var s=this.rotationAxis(t);r*=a.dot(s,a.normalize(a.create(),e))}return r},s.prototype.rotationAxis=function(t){if(!this.valid||!t.valid)return a.create();var e=t.hand(this.id);return e.valid?a.normalize(a.create(),[this._rotation[7]-e._rotation[5],this._rotation[2]-e._rotation[6],this._rotation[3]-e._rotation[1]]):a.create()},s.prototype.rotationMatrix=function(t){if(!this.valid||!t.valid)return o.create();var e=t.hand(this.id);if(!e.valid)return o.create();var n=o.transpose(o.create(),this._rotation),i=o.multiply(o.create(),e._rotation,n);return i},s.prototype.scaleFactor=function(t){if(!this.valid||!t.valid)return 1;var e=t.hand(this.id);return e.valid?Math.exp(this._scaleFactor-e._scaleFactor):1},s.prototype.translation=function(t){if(!this.valid||!t.valid)return a.create();var e=t.hand(this.id);return e.valid?[this._translation[0]-e._translation[0],this._translation[1]-e._translation[1],this._translation[2]-e._translation[2]]:a.create()},s.prototype.toString=function(){return"Hand [ id: "+this.id+" | palm velocity:"+this.palmVelocity+" | sphere center:"+this.sphereCenter+" ] "},s.prototype.pitch=function(){return Math.atan2(this.direction[1],-this.direction[2])},s.prototype.yaw=function(){return Math.atan2(this.direction[0],-this.direction[2])},s.prototype.roll=function(){return Math.atan2(this.palmNormal[0],-this.palmNormal[1])},s.Invalid={valid:!1,fingers:[],tools:[],pointables:[],pointable:function(){return n.Invalid},finger:function(){return n.Invalid},toString:function(){return"invalid frame"},dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return o.create()},rotationAxis:function(){return a.create()},scaleFactor:function(){return 1},translation:function(){return a.create()}}},{"./pointable":11,"gl-matrix":19,underscore:20}],8:[function(t,e){e.exports={Controller:t("./controller"),Frame:t("./frame"),Gesture:t("./gesture"),Hand:t("./hand"),Pointable:t("./pointable"),InteractionBox:t("./interaction_box"),Connection:t("./connection"),CircularBuffer:t("./circular_buffer"),UI:t("./ui"),glMatrix:t("gl-matrix"),mat3:t("gl-matrix").mat3,vec3:t("gl-matrix").vec3,loopController:void 0,loop:function(t,e){return void 0===e&amp;&amp;(e=t,t={}),this.loopController||(this.loopController=new this.Controller(t)),this.loopController.loop(e),this.loopController}}},{"./circular_buffer":2,"./connection":3,"./controller":4,"./frame":5,"./gesture":6,"./hand":7,"./interaction_box":9,"./pointable":11,"./ui":13,"gl-matrix":19}],9:[function(t,e){var n=t("gl-matrix"),i=n.vec3,o=e.exports=function(t){this.valid=!0,this.center=t.center,this.size=t.size,this.width=t.size[0],this.height=t.size[1],this.depth=t.size[2]};o.prototype.denormalizePoint=function(t){return i.fromValues((t[0]-.5)*this.size[0]+this.center[0],(t[1]-.5)*this.size[1]+this.center[1],(t[2]-.5)*this.size[2]+this.center[2])},o.prototype.normalizePoint=function(t,e){var n=i.fromValues((t[0]-this.center[0])/this.size[0]+.5,(t[1]-this.center[1])/this.size[1]+.5,(t[2]-this.center[2])/this.size[2]+.5);return e&amp;&amp;(n[0]=Math.min(Math.max(n[0],0),1),n[1]=Math.min(Math.max(n[1],0),1),n[2]=Math.min(Math.max(n[2],0),1)),n},o.prototype.toString=function(){return"InteractionBox [ width:"+this.width+" | height:"+this.height+" | depth:"+this.depth+" ]"},o.Invalid={valid:!1}},{"gl-matrix":19}],10:[function(t,e){var n=e.exports=function(){this.steps=[]};n.prototype.addStep=function(t){this.steps.push(t)},n.prototype.run=function(t){for(var e=this.steps.length,n=0;n!=e&amp;&amp;t;n++)t=this.steps[n](t);return t}},{}],11:[function(t,e){var n=t("gl-matrix");n.vec3;var i=e.exports=function(t){this.valid=!0,this.id=t.id,this.handId=t.handId,this.length=t.length,this.tool=t.tool,this.width=t.width,this.direction=t.direction,this.stabilizedTipPosition=t.stabilizedTipPosition,this.tipPosition=t.tipPosition,this.tipVelocity=t.tipVelocity,this.touchZone=t.touchZone,this.touchDistance=t.touchDistance,this.timeVisible=t.timeVisible};i.prototype.toString=function(){return 1==this.tool?"Pointable [ id:"+this.id+" "+this.length+"mmx | with:"+this.width+"mm | direction:"+this.direction+" ]":"Pointable [ id:"+this.id+" "+this.length+"mmx | direction: "+this.direction+" ]"},i.Invalid={valid:!1}},{"gl-matrix":19}],12:[function(t,e,n){var i=t("./frame"),o=function(t){this.type=t.type,this.state=t.state};n.chooseProtocol=function(t){var e;switch(t.version){case 1:e=a(1,function(t){return new i(t)});break;case 2:e=a(2,function(t){return new i(t)}),e.sendHeartbeat=function(t){t.send(e.encode({heartbeat:!0}))};break;case 3:e=a(3,function(t){return t.event?new o(t.event):new i(t)}),e.sendHeartbeat=function(t){t.send(e.encode({heartbeat:!0}))};break;default:throw"unrecognized version"}return e};var a=function(t,e){var n=e;return n.encode=function(t){return JSON.stringify(t)},n.version=t,n.versionLong="Version "+t,n.type="protocol",n}},{"./frame":5}],13:[function(t,e,n){n.UI={Region:t("./ui/region"),Cursor:t("./ui/cursor")}},{"./ui/cursor":14,"./ui/region":15}],14:[function(t,e){e.exports=function(){return function(t){var e=t.pointables.sort(function(t,e){return t.z-e.z})[0];return e&amp;&amp;e.valid&amp;&amp;(t.cursorPosition=e.tipPosition),t}}},{}],15:[function(t,e){var n=t("events").EventEmitter,i=t("underscore"),o=e.exports=function(t,e){this.start=new Vector(t),this.end=new Vector(e),this.enteredFrame=null};o.prototype.hasPointables=function(t){for(var e=0;e!=t.pointables.length;e++){var n=t.pointables[e].tipPosition;if(n.x&gt;=this.start.x&amp;&amp;n.x&lt;=this.end.x&amp;&amp;n.y&gt;=this.start.y&amp;&amp;n.y&lt;=this.end.y&amp;&amp;n.z&gt;=this.start.z&amp;&amp;n.z&lt;=this.end.z)return!0}return!1},o.prototype.listener=function(t){var e=this;return t&amp;&amp;t.nearThreshold&amp;&amp;this.setupNearRegion(t.nearThreshold),function(t){return e.updatePosition(t)}},o.prototype.clipper=function(){var t=this;return function(e){return t.updatePosition(e),t.enteredFrame?e:null}},o.prototype.setupNearRegion=function(t){var e=this.nearRegion=new o([this.start.x-t,this.start.y-t,this.start.z-t],[this.end.x+t,this.end.y+t,this.end.z+t]),n=this;e.on("enter",function(t){n.emit("near",t)}),e.on("exit",function(t){n.emit("far",t)}),n.on("exit",function(t){n.emit("near",t)})},o.prototype.updatePosition=function(t){return this.nearRegion&amp;&amp;this.nearRegion.updatePosition(t),this.hasPointables(t)&amp;&amp;null==this.enteredFrame?(this.enteredFrame=t,this.emit("enter",this.enteredFrame)):this.hasPointables(t)||null==this.enteredFrame||(this.enteredFrame=null,this.emit("exit",this.enteredFrame)),t},o.prototype.normalize=function(t){return new Vector([(t.x-this.start.x)/(this.end.x-this.start.x),(t.y-this.start.y)/(this.end.y-this.start.y),(t.z-this.start.z)/(this.end.z-this.start.z)])},o.prototype.mapToXY=function(t,e,n){var i=this.normalize(t),o=i.x,a=i.y;return o&gt;1?o=1:-1&gt;o&amp;&amp;(o=-1),a&gt;1?a=1:-1&gt;a&amp;&amp;(a=-1),[(o+1)/2*e,(1-a)/2*n,i.z]},i.extend(o.prototype,n.prototype)},{events:17,underscore:20}],16:[function(){},{}],17:[function(t,e,n){function i(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n&lt;t.length;n++)if(e===t[n])return n;return-1}var o=t("__browserify_process");o.EventEmitter||(o.EventEmitter=function(){});var a=n.EventEmitter=o.EventEmitter,r="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=10;a.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},a.prototype.emit=function(t){if("error"===t&amp;&amp;(!this._events||!this._events.error||r(this._events.error)&amp;&amp;!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(r(e)){for(var n=Array.prototype.slice.call(arguments,1),i=e.slice(),o=0,a=i.length;a&gt;o;o++)i[o].apply(this,n);return!0}return!1},a.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(r(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:s,n&amp;&amp;n&gt;0&amp;&amp;this._events[t].length&gt;n&amp;&amp;(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(t,e){var n=this;return n.on(t,function i(){n.removeListener(t,i),e.apply(this,arguments)}),this},a.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(r(n)){var o=i(n,e);if(0&gt;o)return this;n.splice(o,1),0==n.length&amp;&amp;delete this._events[t]}else this._events[t]===e&amp;&amp;delete this._events[t];return this},a.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&amp;&amp;this._events&amp;&amp;this._events[t]&amp;&amp;(this._events[t]=null),this)},a.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),r(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},a.listenerCount=function(t,e){var n;return n=t._events&amp;&amp;t._events[e]?"function"==typeof t._events[e]?1:t._events[e].length:0}},{__browserify_process:18}],18:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&amp;&amp;window.setImmediate,e="undefined"!=typeof window&amp;&amp;window.postMessage&amp;&amp;window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&amp;&amp;"process-tick"===t.data&amp;&amp;(t.stopPropagation(),n.length&gt;0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],19:[function(t,e,n){!function(){"use strict";var t={};"undefined"==typeof n?"function"==typeof define&amp;&amp;"object"==typeof define.amd&amp;&amp;define.amd?(t.exports={},define(function(){return t.exports})):t.exports=window:t.exports=n,function(t){var e={};if(!n)var n=1e-6;e.create=function(){return new Float32Array(2)},e.clone=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.sub=e.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},e.mul=e.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},e.div=e.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.dist=e.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},e.sqrDist=e.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i},e.len=e.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},e.sqrLen=e.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.normalize=function(t,e){var n=e[0],i=e[1],o=n*n+i*i;return o&gt;0&amp;&amp;(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},e.lerp=function(t,e,n,i){var o=e[0],a=e[1];return t[0]=o+i*(n[0]-o),t[1]=a+i*(n[1]-a),t},e.transformMat2=function(t,e,n){var i=e[0],o=e[1];return t[0]=i*n[0]+o*n[1],t[1]=i*n[2]+o*n[3],t},e.forEach=function(){var t=new Float32Array(2);return function(e,n,i,o,a,r){var s,c;for(n||(n=2),i||(i=0),c=o?Math.min(o*n+i,e.length):e.length,s=i;c&gt;s;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,r),e[s]=t[0],e[s+1]=t[1];return e}}(),e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},"undefined"!=typeof t&amp;&amp;(t.vec2=e);var i={};if(!n)var n=1e-6;i.create=function(){return new Float32Array(3)},i.clone=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new Float32Array(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.sub=i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.mul=i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.div=i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.dist=i.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+i*i+o*o)},i.sqrDist=i.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2];return n*n+i*i+o*o},i.len=i.length=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)},i.sqrLen=i.squaredLength=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i},i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.normalize=function(t,e){var n=e[0],i=e[1],o=e[2],a=n*n+i*i+o*o;return a&gt;0&amp;&amp;(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=n[0],s=n[1],c=n[2];return t[0]=o*c-a*s,t[1]=a*r-i*c,t[2]=i*s-o*r,t},i.lerp=function(t,e,n,i){var o=e[0],a=e[1],r=e[2];return t[0]=o+i*(n[0]-o),t[1]=a+i*(n[1]-a),t[2]=r+i*(n[2]-r),t},i.transformMat4=function(t,e,n){var i=e[0],o=e[1],a=e[2];return t[0]=n[0]*i+n[4]*o+n[8]*a+n[12],t[1]=n[1]*i+n[5]*o+n[9]*a+n[13],t[2]=n[2]*i+n[6]*o+n[10]*a+n[14],t},i.transformQuat=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=n[0],s=n[1],c=n[2],l=n[3],u=l*i+s*a-c*o,h=l*o+c*i-r*a,f=l*a+r*o-s*i,p=-r*i-s*o-c*a;return t[0]=u*l+p*-r+h*-c-f*-s,t[1]=h*l+p*-s+f*-r-u*-c,t[2]=f*l+p*-c+u*-s-h*-r,t},i.forEach=function(){var t=new Float32Array(3);return function(e,n,i,o,a,r){var s,c;for(n||(n=3),i||(i=0),c=o?Math.min(o*n+i,e.length):e.length,s=i;c&gt;s;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,r),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},"undefined"!=typeof t&amp;&amp;(t.vec3=i);var o={};if(!n)var n=1e-6;o.create=function(){return new Float32Array(4)},o.clone=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.fromValues=function(t,e,n,i){var o=new Float32Array(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.set=function(t,e,n,i,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},o.sub=o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},o.mul=o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},o.div=o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},o.dist=o.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+i*i+o*o+a*a)},o.sqrDist=o.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return n*n+i*i+o*o+a*a},o.len=o.length=function(t){var e=t[0],n=t[1],i=t[2],o=t[3];return Math.sqrt(e*e+n*n+i*i+o*o)},o.sqrLen=o.squaredLength=function(t){var e=t[0],n=t[1],i=t[2],o=t[3];return e*e+n*n+i*i+o*o},o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},o.normalize=function(t,e){var n=e[0],i=e[1],o=e[2],a=e[3],r=n*n+i*i+o*o+a*a;return r&gt;0&amp;&amp;(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},o.lerp=function(t,e,n,i){var o=e[0],a=e[1],r=e[2],s=e[3];return t[0]=o+i*(n[0]-o),t[1]=a+i*(n[1]-a),t[2]=r+i*(n[2]-r),t[3]=s+i*(n[3]-s),t},o.transformMat4=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3];return t[0]=n[0]*i+n[4]*o+n[8]*a+n[12]*r,t[1]=n[1]*i+n[5]*o+n[9]*a+n[13]*r,t[2]=n[2]*i+n[6]*o+n[10]*a+n[14]*r,t[3]=n[3]*i+n[7]*o+n[11]*a+n[15]*r,t},o.transformQuat=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=n[0],s=n[1],c=n[2],l=n[3],u=l*i+s*a-c*o,h=l*o+c*i-r*a,f=l*a+r*o-s*i,p=-r*i-s*o-c*a;return t[0]=u*l+p*-r+h*-c-f*-s,t[1]=h*l+p*-s+f*-r-u*-c,t[2]=f*l+p*-c+u*-s-h*-r,t},o.forEach=function(){var t=new Float32Array(4);return function(e,n,i,o,a,r){var s,c;for(n||(n=4),i||(i=0),c=o?Math.min(o*n+i,e.length):e.length,s=i;c&gt;s;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,r),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&amp;&amp;(t.vec4=o);var a={},r=new Float32Array([1,0,0,1]);if(!n)var n=1e-6;a.create=function(){return new Float32Array(r)},a.clone=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},a.invert=function(t,e){var n=e[0],i=e[1],o=e[2],a=e[3],r=n*a-o*i;return r?(r=1/r,t[0]=a*r,t[1]=-i*r,t[2]=-o*r,t[3]=n*r,t):null},a.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},a.determinant=function(t){return t[0]*t[3]-t[2]*t[1]
},a.mul=a.multiply=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3],s=n[0],c=n[1],l=n[2],u=n[3];return t[0]=i*s+o*l,t[1]=i*c+o*u,t[2]=a*s+r*l,t[3]=a*c+r*u,t},a.rotate=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*s,t[1]=i*-s+o*c,t[2]=a*c+r*s,t[3]=a*-s+r*c,t},a.scale=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3],s=n[0],c=n[1];return t[0]=i*s,t[1]=o*c,t[2]=a*s,t[3]=r*c,t},a.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&amp;&amp;(t.mat2=a);var s={},c=new Float32Array([1,0,0,0,1,0,0,0,1]);if(!n)var n=1e-6;s.create=function(){return new Float32Array(c)},s.clone=function(t){var e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},s.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},s.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},s.invert=function(t,e){var n=e[0],i=e[1],o=e[2],a=e[3],r=e[4],s=e[5],c=e[6],l=e[7],u=e[8],h=u*r-s*l,f=-u*a+s*c,p=l*a-r*c,d=n*h+i*f+o*p;return d?(d=1/d,t[0]=h*d,t[1]=(-u*i+o*l)*d,t[2]=(s*i-o*r)*d,t[3]=f*d,t[4]=(u*n-o*c)*d,t[5]=(-s*n+o*a)*d,t[6]=p*d,t[7]=(-l*n+i*c)*d,t[8]=(r*n-i*a)*d,t):null},s.adjoint=function(t,e){var n=e[0],i=e[1],o=e[2],a=e[3],r=e[4],s=e[5],c=e[6],l=e[7],u=e[8];return t[0]=r*u-s*l,t[1]=o*l-i*u,t[2]=i*s-o*r,t[3]=s*c-a*u,t[4]=n*u-o*c,t[5]=o*a-n*s,t[6]=a*l-r*c,t[7]=i*c-n*l,t[8]=n*r-i*a,t},s.determinant=function(t){var e=t[0],n=t[1],i=t[2],o=t[3],a=t[4],r=t[5],s=t[6],c=t[7],l=t[8];return e*(l*a-r*c)+n*(-l*o+r*s)+i*(c*o-a*s)},s.mul=s.multiply=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3],s=e[4],c=e[5],l=e[6],u=e[7],h=e[8],f=n[0],p=n[1],d=n[2],m=n[3],v=n[4],_=n[5],g=n[6],w=n[7],y=n[8];return t[0]=f*i+p*r+d*l,t[1]=f*o+p*s+d*u,t[2]=f*a+p*c+d*h,t[3]=m*i+v*r+_*l,t[4]=m*o+v*s+_*u,t[5]=m*a+v*c+_*h,t[6]=g*i+w*r+y*l,t[7]=g*o+w*s+y*u,t[8]=g*a+w*c+y*h,t},s.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},"undefined"!=typeof t&amp;&amp;(t.mat3=s);var l={},u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);if(!n)var n=1e-6;l.create=function(){return new Float32Array(u)},l.clone=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},l.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},l.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.transpose=function(t,e){if(t===e){var n=e[1],i=e[2],o=e[3],a=e[6],r=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=a,t[11]=e[14],t[12]=o,t[13]=r,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},l.invert=function(t,e){var n=e[0],i=e[1],o=e[2],a=e[3],r=e[4],s=e[5],c=e[6],l=e[7],u=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],v=e[14],_=e[15],g=n*s-i*r,w=n*c-o*r,y=n*l-a*r,x=i*c-o*s,b=i*l-a*s,C=o*l-a*c,k=u*m-h*d,R=u*v-f*d,j=u*_-p*d,M=h*v-f*m,T=h*_-p*m,P=f*_-p*v,A=g*P-w*T+y*M+x*j-b*R+C*k;return A?(A=1/A,t[0]=(s*P-c*T+l*M)*A,t[1]=(o*T-i*P-a*M)*A,t[2]=(m*C-v*b+_*x)*A,t[3]=(f*b-h*C-p*x)*A,t[4]=(c*j-r*P-l*R)*A,t[5]=(n*P-o*j+a*R)*A,t[6]=(v*y-d*C-_*w)*A,t[7]=(u*C-f*y+p*w)*A,t[8]=(r*T-s*j+l*k)*A,t[9]=(i*j-n*T-a*k)*A,t[10]=(d*b-m*y+_*g)*A,t[11]=(h*y-u*b-p*g)*A,t[12]=(s*R-r*M-c*k)*A,t[13]=(n*M-i*R+o*k)*A,t[14]=(m*w-d*x-v*g)*A,t[15]=(u*x-h*w+f*g)*A,t):null},l.adjoint=function(t,e){var n=e[0],i=e[1],o=e[2],a=e[3],r=e[4],s=e[5],c=e[6],l=e[7],u=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],v=e[14],_=e[15];return t[0]=s*(f*_-p*v)-h*(c*_-l*v)+m*(c*p-l*f),t[1]=-(i*(f*_-p*v)-h*(o*_-a*v)+m*(o*p-a*f)),t[2]=i*(c*_-l*v)-s*(o*_-a*v)+m*(o*l-a*c),t[3]=-(i*(c*p-l*f)-s*(o*p-a*f)+h*(o*l-a*c)),t[4]=-(r*(f*_-p*v)-u*(c*_-l*v)+d*(c*p-l*f)),t[5]=n*(f*_-p*v)-u*(o*_-a*v)+d*(o*p-a*f),t[6]=-(n*(c*_-l*v)-r*(o*_-a*v)+d*(o*l-a*c)),t[7]=n*(c*p-l*f)-r*(o*p-a*f)+u*(o*l-a*c),t[8]=r*(h*_-p*m)-u*(s*_-l*m)+d*(s*p-l*h),t[9]=-(n*(h*_-p*m)-u*(i*_-a*m)+d*(i*p-a*h)),t[10]=n*(s*_-l*m)-r*(i*_-a*m)+d*(i*l-a*s),t[11]=-(n*(s*p-l*h)-r*(i*p-a*h)+u*(i*l-a*s)),t[12]=-(r*(h*v-f*m)-u*(s*v-c*m)+d*(s*f-c*h)),t[13]=n*(h*v-f*m)-u*(i*v-o*m)+d*(i*f-o*h),t[14]=-(n*(s*v-c*m)-r*(i*v-o*m)+d*(i*c-o*s)),t[15]=n*(s*f-c*h)-r*(i*f-o*h)+u*(i*c-o*s),t},l.determinant=function(t){var e=t[0],n=t[1],i=t[2],o=t[3],a=t[4],r=t[5],s=t[6],c=t[7],l=t[8],u=t[9],h=t[10],f=t[11],p=t[12],d=t[13],m=t[14],v=t[15],_=e*r-n*a,g=e*s-i*a,w=e*c-o*a,y=n*s-i*r,x=n*c-o*r,b=i*c-o*s,C=l*d-u*p,k=l*m-h*p,R=l*v-f*p,j=u*m-h*d,M=u*v-f*d,T=h*v-f*m;return _*T-g*M+w*j+y*R-x*k+b*C},l.mul=l.multiply=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3],s=e[4],c=e[5],l=e[6],u=e[7],h=e[8],f=e[9],p=e[10],d=e[11],m=e[12],v=e[13],_=e[14],g=e[15],w=n[0],y=n[1],x=n[2],b=n[3];return t[0]=w*i+y*s+x*h+b*m,t[1]=w*o+y*c+x*f+b*v,t[2]=w*a+y*l+x*p+b*_,t[3]=w*r+y*u+x*d+b*g,w=n[4],y=n[5],x=n[6],b=n[7],t[4]=w*i+y*s+x*h+b*m,t[5]=w*o+y*c+x*f+b*v,t[6]=w*a+y*l+x*p+b*_,t[7]=w*r+y*u+x*d+b*g,w=n[8],y=n[9],x=n[10],b=n[11],t[8]=w*i+y*s+x*h+b*m,t[9]=w*o+y*c+x*f+b*v,t[10]=w*a+y*l+x*p+b*_,t[11]=w*r+y*u+x*d+b*g,w=n[12],y=n[13],x=n[14],b=n[15],t[12]=w*i+y*s+x*h+b*m,t[13]=w*o+y*c+x*f+b*v,t[14]=w*a+y*l+x*p+b*_,t[15]=w*r+y*u+x*d+b*g,t},l.translate=function(t,e,n){var i,o,a,r,s,c,l,u,h,f,p,d,m=n[0],v=n[1],_=n[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*_+e[12],t[13]=e[1]*m+e[5]*v+e[9]*_+e[13],t[14]=e[2]*m+e[6]*v+e[10]*_+e[14],t[15]=e[3]*m+e[7]*v+e[11]*_+e[15]):(i=e[0],o=e[1],a=e[2],r=e[3],s=e[4],c=e[5],l=e[6],u=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=i,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=c,t[6]=l,t[7]=u,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=i*m+s*v+h*_+e[12],t[13]=o*m+c*v+f*_+e[13],t[14]=a*m+l*v+p*_+e[14],t[15]=r*m+u*v+d*_+e[15]),t},l.scale=function(t,e,n){var i=n[0],o=n[1],a=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},l.rotate=function(t,e,i,o){var a,r,s,c,l,u,h,f,p,d,m,v,_,g,w,y,x,b,C,k,R,j,M,T,P=o[0],A=o[1],S=o[2],$=Math.sqrt(P*P+A*A+S*S);return Math.abs($)&lt;n?null:($=1/$,P*=$,A*=$,S*=$,a=Math.sin(i),r=Math.cos(i),s=1-r,c=e[0],l=e[1],u=e[2],h=e[3],f=e[4],p=e[5],d=e[6],m=e[7],v=e[8],_=e[9],g=e[10],w=e[11],y=P*P*s+r,x=A*P*s+S*a,b=S*P*s-A*a,C=P*A*s-S*a,k=A*A*s+r,R=S*A*s+P*a,j=P*S*s+A*a,M=A*S*s-P*a,T=S*S*s+r,t[0]=c*y+f*x+v*b,t[1]=l*y+p*x+_*b,t[2]=u*y+d*x+g*b,t[3]=h*y+m*x+w*b,t[4]=c*C+f*k+v*R,t[5]=l*C+p*k+_*R,t[6]=u*C+d*k+g*R,t[7]=h*C+m*k+w*R,t[8]=c*j+f*M+v*T,t[9]=l*j+p*M+_*T,t[10]=u*j+d*M+g*T,t[11]=h*j+m*M+w*T,e!==t&amp;&amp;(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},l.rotateX=function(t,e,n){var i=Math.sin(n),o=Math.cos(n),a=e[4],r=e[5],s=e[6],c=e[7],l=e[8],u=e[9],h=e[10],f=e[11];return e!==t&amp;&amp;(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*o+l*i,t[5]=r*o+u*i,t[6]=s*o+h*i,t[7]=c*o+f*i,t[8]=l*o-a*i,t[9]=u*o-r*i,t[10]=h*o-s*i,t[11]=f*o-c*i,t},l.rotateY=function(t,e,n){var i=Math.sin(n),o=Math.cos(n),a=e[0],r=e[1],s=e[2],c=e[3],l=e[8],u=e[9],h=e[10],f=e[11];return e!==t&amp;&amp;(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o-l*i,t[1]=r*o-u*i,t[2]=s*o-h*i,t[3]=c*o-f*i,t[8]=a*i+l*o,t[9]=r*i+u*o,t[10]=s*i+h*o,t[11]=c*i+f*o,t},l.rotateZ=function(t,e,n){var i=Math.sin(n),o=Math.cos(n),a=e[0],r=e[1],s=e[2],c=e[3],l=e[4],u=e[5],h=e[6],f=e[7];return e!==t&amp;&amp;(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o+l*i,t[1]=r*o+u*i,t[2]=s*o+h*i,t[3]=c*o+f*i,t[4]=l*o-a*i,t[5]=u*o-r*i,t[6]=h*o-s*i,t[7]=f*o-c*i,t},l.fromRotationTranslation=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3],s=i+i,c=o+o,l=a+a,u=i*s,h=i*c,f=i*l,p=o*c,d=o*l,m=a*l,v=r*s,_=r*c,g=r*l;return t[0]=1-(p+m),t[1]=h+g,t[2]=f-_,t[3]=0,t[4]=h-g,t[5]=1-(u+m),t[6]=d+v,t[7]=0,t[8]=f+_,t[9]=d-v,t[10]=1-(u+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},l.frustum=function(t,e,n,i,o,a,r){var s=1/(n-e),c=1/(o-i),l=1/(a-r);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*c,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+i)*c,t[10]=(r+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*a*l,t[15]=0,t},l.perspective=function(t,e,n,i,o){var a=1/Math.tan(e/2),r=1/(i-o);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+i)*r,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*i*r,t[15]=0,t},l.ortho=function(t,e,n,i,o,a,r){var s=1/(e-n),c=1/(i-o),l=1/(a-r);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(o+i)*c,t[14]=(r+a)*l,t[15]=1,t},l.lookAt=function(t,e,i,o){var a,r,s,c,u,h,f,p,d,m,v=e[0],_=e[1],g=e[2],w=o[0],y=o[1],x=o[2],b=i[0],C=i[1],k=i[2];return Math.abs(v-b)&lt;n&amp;&amp;Math.abs(_-C)&lt;n&amp;&amp;Math.abs(g-k)&lt;n?l.identity(t):(f=v-b,p=_-C,d=g-k,m=1/Math.sqrt(f*f+p*p+d*d),f*=m,p*=m,d*=m,a=y*d-x*p,r=x*f-w*d,s=w*p-y*f,m=Math.sqrt(a*a+r*r+s*s),m?(m=1/m,a*=m,r*=m,s*=m):(a=0,r=0,s=0),c=p*s-d*r,u=d*a-f*s,h=f*r-p*a,m=Math.sqrt(c*c+u*u+h*h),m?(m=1/m,c*=m,u*=m,h*=m):(c=0,u=0,h=0),t[0]=a,t[1]=c,t[2]=f,t[3]=0,t[4]=r,t[5]=u,t[6]=p,t[7]=0,t[8]=s,t[9]=h,t[10]=d,t[11]=0,t[12]=-(a*v+r*_+s*g),t[13]=-(c*v+u*_+h*g),t[14]=-(f*v+p*_+d*g),t[15]=1,t)},l.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},"undefined"!=typeof t&amp;&amp;(t.mat4=l);var h={},f=new Float32Array([0,0,0,1]);if(!n)var n=1e-6;h.create=function(){return new Float32Array(f)},h.clone=o.clone,h.fromValues=o.fromValues,h.copy=o.copy,h.set=o.set,h.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.setAxisAngle=function(t,e,n){n=.5*n;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t},h.add=o.add,h.mul=h.multiply=function(t,e,n){var i=e[0],o=e[1],a=e[2],r=e[3],s=n[0],c=n[1],l=n[2],u=n[3];return t[0]=i*u+r*s+o*l-a*c,t[1]=o*u+r*c+a*s-i*l,t[2]=a*u+r*l+i*c-o*s,t[3]=r*u-i*s-o*c-a*l,t},h.scale=o.scale,h.rotateX=function(t,e,n){n*=.5;var i=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c+r*s,t[1]=o*c+a*s,t[2]=a*c-o*s,t[3]=r*c-i*s,t},h.rotateY=function(t,e,n){n*=.5;var i=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c-a*s,t[1]=o*c+r*s,t[2]=a*c+i*s,t[3]=r*c-o*s,t},h.rotateZ=function(t,e,n){n*=.5;var i=e[0],o=e[1],a=e[2],r=e[3],s=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*s,t[1]=o*c-i*s,t[2]=a*c+r*s,t[3]=r*c-a*s,t},h.calculateW=function(t,e){var n=e[0],i=e[1],o=e[2];return t[0]=n,t[1]=i,t[2]=o,t[3]=-Math.sqrt(Math.abs(1-n*n-i*i-o*o)),t},h.dot=o.dot,h.lerp=o.lerp,h.slerp=function(t,e,n,i){var o,a,r,s,c=e[0],l=e[1],u=e[2],h=e[3],f=n[0],p=n[1],d=n[2],m=e[3],v=c*f+l*p+u*d+h*m;return Math.abs(v)&gt;=1?(t!==e&amp;&amp;(t[0]=c,t[1]=l,t[2]=u,t[3]=h),t):(o=Math.acos(v),a=Math.sqrt(1-v*v),Math.abs(a)&lt;.001?(t[0]=.5*c+.5*f,t[1]=.5*l+.5*p,t[2]=.5*u+.5*d,t[3]=.5*h+.5*m,t):(r=Math.sin((1-i)*o)/a,s=Math.sin(i*o)/a,t[0]=c*r+f*s,t[1]=l*r+p*s,t[2]=u*r+d*s,t[3]=h*r+m*s,t))},h.invert=function(t,e){var n=e[0],i=e[1],o=e[2],a=e[3],r=n*n+i*i+o*o+a*a,s=r?1/r:0;return t[0]=-n*s,t[1]=-i*s,t[2]=-o*s,t[3]=a*s,t},h.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},h.len=h.length=o.length,h.sqrLen=h.squaredLength=o.squaredLength,h.normalize=o.normalize,h.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},"undefined"!=typeof t&amp;&amp;(t.quat=h)}(t.exports)}()},{}],20:[function(t,e,n){!function(){var t=this,i=t._,o={},a=Array.prototype,r=Object.prototype,s=Function.prototype,c=a.push,l=a.slice,u=a.concat,h=r.toString,f=r.hasOwnProperty,p=a.forEach,d=a.map,m=a.reduce,v=a.reduceRight,_=a.filter,g=a.every,w=a.some,y=a.indexOf,x=a.lastIndexOf,b=Array.isArray,C=Object.keys,k=s.bind,R=function(t){return t instanceof R?t:this instanceof R?(this._wrapped=t,void 0):new R(t)};"undefined"!=typeof n?("undefined"!=typeof e&amp;&amp;e.exports&amp;&amp;(n=e.exports=R),n._=R):t._=R,R.VERSION="1.4.4";var j=R.each=R.forEach=function(t,e,n){if(null!=t)if(p&amp;&amp;t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,a=t.length;a&gt;i;i++)if(e.call(n,t[i],i,t)===o)return}else for(var r in t)if(R.has(t,r)&amp;&amp;e.call(n,t[r],r,t)===o)return};R.map=R.collect=function(t,e,n){var i=[];return null==t?i:d&amp;&amp;t.map===d?t.map(e,n):(j(t,function(t,o,a){i[i.length]=e.call(n,t,o,a)}),i)};var M="Reduce of empty array with no initial value";R.reduce=R.foldl=R.inject=function(t,e,n,i){var o=arguments.length&gt;2;if(null==t&amp;&amp;(t=[]),m&amp;&amp;t.reduce===m)return i&amp;&amp;(e=R.bind(e,i)),o?t.reduce(e,n):t.reduce(e);if(j(t,function(t,a,r){o?n=e.call(i,n,t,a,r):(n=t,o=!0)}),!o)throw new TypeError(M);return n},R.reduceRight=R.foldr=function(t,e,n,i){var o=arguments.length&gt;2;if(null==t&amp;&amp;(t=[]),v&amp;&amp;t.reduceRight===v)return i&amp;&amp;(e=R.bind(e,i)),o?t.reduceRight(e,n):t.reduceRight(e);var a=t.length;if(a!==+a){var r=R.keys(t);a=r.length}if(j(t,function(s,c,l){c=r?r[--a]:--a,o?n=e.call(i,n,t[c],c,l):(n=t[c],o=!0)}),!o)throw new TypeError(M);return n},R.find=R.detect=function(t,e,n){var i;return T(t,function(t,o,a){return e.call(n,t,o,a)?(i=t,!0):void 0}),i},R.filter=R.select=function(t,e,n){var i=[];return null==t?i:_&amp;&amp;t.filter===_?t.filter(e,n):(j(t,function(t,o,a){e.call(n,t,o,a)&amp;&amp;(i[i.length]=t)}),i)},R.reject=function(t,e,n){return R.filter(t,function(t,i,o){return!e.call(n,t,i,o)},n)},R.every=R.all=function(t,e,n){e||(e=R.identity);var i=!0;return null==t?i:g&amp;&amp;t.every===g?t.every(e,n):(j(t,function(t,a,r){return(i=i&amp;&amp;e.call(n,t,a,r))?void 0:o}),!!i)};var T=R.some=R.any=function(t,e,n){e||(e=R.identity);var i=!1;return null==t?i:w&amp;&amp;t.some===w?t.some(e,n):(j(t,function(t,a,r){return i||(i=e.call(n,t,a,r))?o:void 0}),!!i)};R.contains=R.include=function(t,e){return null==t?!1:y&amp;&amp;t.indexOf===y?-1!=t.indexOf(e):T(t,function(t){return t===e})},R.invoke=function(t,e){var n=l.call(arguments,2),i=R.isFunction(e);return R.map(t,function(t){return(i?e:t[e]).apply(t,n)})},R.pluck=function(t,e){return R.map(t,function(t){return t[e]})},R.where=function(t,e,n){return R.isEmpty(e)?n?null:[]:R[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},R.findWhere=function(t,e){return R.where(t,e,!0)},R.max=function(t,e,n){if(!e&amp;&amp;R.isArray(t)&amp;&amp;t[0]===+t[0]&amp;&amp;t.length&lt;65535)return Math.max.apply(Math,t);if(!e&amp;&amp;R.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return j(t,function(t,o,a){var r=e?e.call(n,t,o,a):t;r&gt;=i.computed&amp;&amp;(i={value:t,computed:r})}),i.value},R.min=function(t,e,n){if(!e&amp;&amp;R.isArray(t)&amp;&amp;t[0]===+t[0]&amp;&amp;t.length&lt;65535)return Math.min.apply(Math,t);if(!e&amp;&amp;R.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return j(t,function(t,o,a){var r=e?e.call(n,t,o,a):t;r&lt;i.computed&amp;&amp;(i={value:t,computed:r})}),i.value},R.shuffle=function(t){var e,n=0,i=[];return j(t,function(t){e=R.random(n++),i[n-1]=i[e],i[e]=t}),i};var P=function(t){return R.isFunction(t)?t:function(e){return e[t]}};R.sortBy=function(t,e,n){var i=P(e);return R.pluck(R.map(t,function(t,e,o){return{value:t,index:e,criteria:i.call(n,t,e,o)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n&gt;i||void 0===n)return 1;if(i&gt;n||void 0===i)return-1}return t.index&lt;e.index?-1:1}),"value")};var A=function(t,e,n,i){var o={},a=P(e||R.identity);return j(t,function(e,r){var s=a.call(n,e,r,t);i(o,s,e)}),o};R.groupBy=function(t,e,n){return A(t,e,n,function(t,e,n){(R.has(t,e)?t[e]:t[e]=[]).push(n)})},R.countBy=function(t,e,n){return A(t,e,n,function(t,e){R.has(t,e)||(t[e]=0),t[e]++})},R.sortedIndex=function(t,e,n,i){n=null==n?R.identity:P(n);for(var o=n.call(i,e),a=0,r=t.length;r&gt;a;){var s=a+r&gt;&gt;&gt;1;n.call(i,t[s])&lt;o?a=s+1:r=s}return a},R.toArray=function(t){return t?R.isArray(t)?l.call(t):t.length===+t.length?R.map(t,R.identity):R.values(t):[]},R.size=function(t){return null==t?0:t.length===+t.length?t.length:R.keys(t).length},R.first=R.head=R.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:l.call(t,0,e)},R.initial=function(t,e,n){return l.call(t,0,t.length-(null==e||n?1:e))},R.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:l.call(t,Math.max(t.length-e,0))},R.rest=R.tail=R.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},R.compact=function(t){return R.filter(t,R.identity)};var S=function(t,e,n){return j(t,function(t){R.isArray(t)?e?c.apply(n,t):S(t,e,n):n.push(t)}),n};R.flatten=function(t,e){return S(t,e,[])},R.without=function(t){return R.difference(t,l.call(arguments,1))},R.uniq=R.unique=function(t,e,n,i){R.isFunction(e)&amp;&amp;(i=n,n=e,e=!1);var o=n?R.map(t,n,i):t,a=[],r=[];return j(o,function(n,i){(e?i&amp;&amp;r[r.length-1]===n:R.contains(r,n))||(r.push(n),a.push(t[i]))}),a},R.union=function(){return R.uniq(u.apply(a,arguments))},R.intersection=function(t){var e=l.call(arguments,1);return R.filter(R.uniq(t),function(t){return R.every(e,function(e){return R.indexOf(e,t)&gt;=0})})},R.difference=function(t){var e=u.apply(a,l.call(arguments,1));return R.filter(t,function(t){return!R.contains(e,t)})},R.zip=function(){for(var t=l.call(arguments),e=R.max(R.pluck(t,"length")),n=new Array(e),i=0;e&gt;i;i++)n[i]=R.pluck(t,""+i);return n},R.object=function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;o&gt;i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},R.indexOf=function(t,e,n){if(null==t)return-1;var i=0,o=t.length;if(n){if("number"!=typeof n)return i=R.sortedIndex(t,e),t[i]===e?i:-1;i=0&gt;n?Math.max(0,o+n):n}if(y&amp;&amp;t.indexOf===y)return t.indexOf(e,n);for(;o&gt;i;i++)if(t[i]===e)return i;return-1},R.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(x&amp;&amp;t.lastIndexOf===x)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var o=i?n:t.length;o--;)if(t[o]===e)return o;return-1},R.range=function(t,e,n){arguments.length&lt;=1&amp;&amp;(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=0,a=new Array(i);i&gt;o;)a[o++]=t,t+=n;return a},R.bind=function(t,e){if(t.bind===k&amp;&amp;k)return k.apply(t,l.call(arguments,1));var n=l.call(arguments,2);return function(){return t.apply(e,n.concat(l.call(arguments)))}},R.partial=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},R.bindAll=function(t){var e=l.call(arguments,1);return 0===e.length&amp;&amp;(e=R.functions(t)),j(e,function(e){t[e]=R.bind(t[e],t)}),t},R.memoize=function(t,e){var n={};return e||(e=R.identity),function(){var i=e.apply(this,arguments);return R.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},R.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},R.defer=function(t){return R.delay.apply(R,[t,1].concat(l.call(arguments,1)))},R.throttle=function(t,e){var n,i,o,a,r=0,s=function(){r=new Date,o=null,a=t.apply(n,i)};return function(){var c=new Date,l=e-(c-r);return n=this,i=arguments,0&gt;=l?(clearTimeout(o),o=null,r=c,a=t.apply(n,i)):o||(o=setTimeout(s,l)),a}},R.debounce=function(t,e,n){var i,o;return function(){var a=this,r=arguments,s=function(){i=null,n||(o=t.apply(a,r))},c=n&amp;&amp;!i;return clearTimeout(i),i=setTimeout(s,e),c&amp;&amp;(o=t.apply(a,r)),o}},R.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},R.wrap=function(t,e){return function(){var n=[t];return c.apply(n,arguments),e.apply(this,n)}},R.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n&gt;=0;n--)e=[t[n].apply(this,e)];return e[0]}},R.after=function(t,e){return 0&gt;=t?e():function(){return--t&lt;1?e.apply(this,arguments):void 0}},R.keys=C||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)R.has(t,n)&amp;&amp;(e[e.length]=n);return e},R.values=function(t){var e=[];for(var n in t)R.has(t,n)&amp;&amp;e.push(t[n]);return e},R.pairs=function(t){var e=[];for(var n in t)R.has(t,n)&amp;&amp;e.push([n,t[n]]);return e},R.invert=function(t){var e={};for(var n in t)R.has(t,n)&amp;&amp;(e[t[n]]=n);return e},R.functions=R.methods=function(t){var e=[];for(var n in t)R.isFunction(t[n])&amp;&amp;e.push(n);return e.sort()},R.extend=function(t){return j(l.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},R.pick=function(t){var e={},n=u.apply(a,l.call(arguments,1));return j(n,function(n){n in t&amp;&amp;(e[n]=t[n])}),e},R.omit=function(t){var e={},n=u.apply(a,l.call(arguments,1));for(var i in t)R.contains(n,i)||(e[i]=t[i]);return e},R.defaults=function(t){return j(l.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&amp;&amp;(t[n]=e[n])}),t},R.clone=function(t){return R.isObject(t)?R.isArray(t)?t.slice():R.extend({},t):t},R.tap=function(t,e){return e(t),t};var $=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof R&amp;&amp;(t=t._wrapped),e instanceof R&amp;&amp;(e=e._wrapped);var o=h.call(t);if(o!=h.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&amp;&amp;t.global==e.global&amp;&amp;t.multiline==e.multiline&amp;&amp;t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var a=n.length;a--;)if(n[a]==t)return i[a]==e;n.push(t),i.push(e);var r=0,s=!0;if("[object Array]"==o){if(r=t.length,s=r==e.length)for(;r--&amp;&amp;(s=$(t[r],e[r],n,i)););}else{var c=t.constructor,l=e.constructor;if(c!==l&amp;&amp;!(R.isFunction(c)&amp;&amp;c instanceof c&amp;&amp;R.isFunction(l)&amp;&amp;l instanceof l))return!1;for(var u in t)if(R.has(t,u)&amp;&amp;(r++,!(s=R.has(e,u)&amp;&amp;$(t[u],e[u],n,i))))break;if(s){for(u in e)if(R.has(e,u)&amp;&amp;!r--)break;s=!r}}return n.pop(),i.pop(),s};R.isEqual=function(t,e){return $(t,e,[],[])},R.isEmpty=function(t){if(null==t)return!0;if(R.isArray(t)||R.isString(t))return 0===t.length;for(var e in t)if(R.has(t,e))return!1;return!0},R.isElement=function(t){return!(!t||1!==t.nodeType)},R.isArray=b||function(t){return"[object Array]"==h.call(t)},R.isObject=function(t){return t===Object(t)},j(["Arguments","Function","String","Number","Date","RegExp"],function(t){R["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),R.isArguments(arguments)||(R.isArguments=function(t){return!(!t||!R.has(t,"callee"))}),"function"!=typeof/./&amp;&amp;(R.isFunction=function(t){return"function"==typeof t}),R.isFinite=function(t){return isFinite(t)&amp;&amp;!isNaN(parseFloat(t))},R.isNaN=function(t){return R.isNumber(t)&amp;&amp;t!=+t},R.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},R.isNull=function(t){return null===t},R.isUndefined=function(t){return void 0===t},R.has=function(t,e){return f.call(t,e)},R.noConflict=function(){return t._=i,this},R.identity=function(t){return t},R.times=function(t,e,n){for(var i=Array(t),o=0;t&gt;o;o++)i[o]=e.call(n,o);return i},R.random=function(t,e){return null==e&amp;&amp;(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var Q={escape:{"&amp;":"&amp;amp;","&lt;":"&amp;lt;","&gt;":"&amp;gt;",'"':"&amp;quot;","'":"&amp;#x27;","/":"&amp;#x2F;"}};Q.unescape=R.invert(Q.escape);var I={escape:new RegExp("["+R.keys(Q.escape).join("")+"]","g"),unescape:new RegExp("("+R.keys(Q.unescape).join("|")+")","g")};R.each(["escape","unescape"],function(t){R[t]=function(e){return null==e?"":(""+e).replace(I[t],function(e){return Q[t][e]})}}),R.result=function(t,e){if(null==t)return null;var n=t[e];return R.isFunction(n)?n.call(t):n},R.mixin=function(t){j(R.functions(t),function(e){var n=R[e]=t[e];R.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),D.call(this,n.apply(R,t))}})};var E=0;R.uniqueId=function(t){var e=++E+"";return t?t+e:e},R.templateSettings={evaluate:/&lt;%([\s\S]+?)%&gt;/g,interpolate:/&lt;%=([\s\S]+?)%&gt;/g,escape:/&lt;%-([\s\S]+?)%&gt;/g};var L=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n"," ":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;R.template=function(t,e,n){var i;n=R.defaults({},n,R.templateSettings);var o=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),a=0,r="__p+='";t.replace(o,function(e,n,i,o,s){return r+=t.slice(a,s).replace(O,function(t){return"\\"+N[t]}),n&amp;&amp;(r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&amp;&amp;(r+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&amp;&amp;(r+="';\n"+o+"\n__p+='"),a=s+e.length,e}),r+="';\n",n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{i=new Function(n.variable||"obj","_",r)}catch(s){throw s.source=r,s}if(e)return i(e,R);var c=function(t){return i.call(this,t,R)};return c.source="function("+(n.variable||"obj")+"){\n"+r+"}",c},R.chain=function(t){return R(t).chain()};var D=function(t){return this._chain?R(t).chain():t};R.mixin(R),j(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];R.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&amp;&amp;"splice"!=t||0!==n.length||delete n[0],D.call(this,n)}}),j(["concat","join","slice"],function(t){var e=a[t];R.prototype[t]=function(){return D.call(this,e.apply(this._wrapped,arguments))}}),R.extend(R.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this)},{}],21:[function(t){"function"!=typeof window.requestAnimationFrame&amp;&amp;(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)}),Leap=t("../lib/index")},{"../lib/index":8}]},{},[21]);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
