<!DOCTYPE html>

<html>
<head>
  <title>jazz.min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="documentation.html">
                documentation.js
              </a>
            
              
              <a class="source" href="jazz.html">
                jazz.js
              </a>
            
              
              <a class="source" href="jazz.min.html">
                jazz.min.js
              </a>
            
              
              <a class="source" href="jazz_config.html">
                jazz_config.js
              </a>
            
              
              <a class="source" href="jazz_event_helper.html">
                jazz_event_helper.js
              </a>
            
              
              <a class="source" href="jazz_events.html">
                jazz_events.js
              </a>
            
              
              <a class="source" href="jazz_hands.html">
                jazz_hands.js
              </a>
            
              
              <a class="source" href="jazz_ui.html">
                jazz_ui.js
              </a>
            
              
              <a class="source" href="jazz_ui_helper.html">
                jazz_ui_helper.js
              </a>
            
              
              <a class="source" href="leap.min.html">
                leap.min.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>jazz.min.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="function"><span class="keyword">function</span> <span class="title">JazzConfig</span><span class="params">()</span>{</span><span class="keyword">this</span>.configureFromOptions=<span class="keyword">function</span>(e){Jazz.fillStyle=<span class="string">"black"</span>,Jazz.LAST_VALID_FINGER=<span class="number">1</span>,<span class="keyword">this</span>.setupImages(),e&amp;&amp;(e.fillStyle&amp;&amp;(Jazz.arrowColor=Jazz.fillStyle=e.fillStyle),e.waitTimer&amp;&amp;(Jazz.WAIT_FINGER_MS=e.waitTimer),e.fingersText&amp;&amp;(Jazz.fingersText=Jazz.fingersText.concat(e.fingersText),Jazz.LAST_VALID_FINGER=e.fingersText.length+<span class="number">1</span>),Jazz.simpleMode=Jazz.LAST_VALID_FINGER&gt;<span class="number">1</span>?!<span class="number">1</span>:!<span class="number">0</span>,<span class="keyword">void</span> <span class="number">0</span>!==e.disableTimer&amp;&amp;e.disableTimer!==Jazz.disableTimer&amp;&amp;(Jazz.disableTimer=e.disableTimer),<span class="keyword">void</span> <span class="number">0</span>!==e.disableZoom&amp;&amp;e.disableZoom!==Jazz.disableZoom&amp;&amp;(Jazz.disableZoom=e.disableZoom),<span class="keyword">void</span> <span class="number">0</span>!==e.disableHelper&amp;&amp;e.disableHelper!==Jazz.disableHelper&amp;&amp;(Jazz.disableHelper=e.disableHelper),<span class="keyword">void</span> <span class="number">0</span>!==e.disableFingers&amp;&amp;e.disableFingers!==Jazz.disableFingers&amp;&amp;(Jazz.disableFingers=e.disableFingers),e.opacity&amp;&amp;(Jazz.opacity=e.opacity))},<span class="keyword">this</span>.setupImages=<span class="keyword">function</span>(){<span class="keyword">var</span> e=Jazz.$(<span class="string">"script[src*=jazz]"</span>).attr(<span class="string">"src"</span>);e=e.substring(<span class="number">0</span>,e.lastIndexOf(<span class="string">"/"</span>)+<span class="number">1</span>);<span class="keyword">var</span> t=Jazz.filePath=e+<span class="string">"images/"</span>;Jazz.upArrow=<span class="keyword">new</span> Image,Jazz.upArrow.src=t+<span class="string">"gray_up_arrow.png"</span>,Jazz.downArrow=<span class="keyword">new</span> Image,Jazz.downArrow.src=t+<span class="string">"gray_down_arrow.png"</span>,Jazz.rightArrow=<span class="keyword">new</span> Image,Jazz.rightArrow.src=t+<span class="string">"gray_right_arrow.png"</span>,Jazz.leftArrow=<span class="keyword">new</span> Image,Jazz.leftArrow.src=t+<span class="string">"gray_left_arrow.png"</span>,Jazz.zoomIn=<span class="keyword">new</span> Image,Jazz.zoomIn.src=t+<span class="string">"gray_zoom_in.png"</span>,Jazz.zoomOut=<span class="keyword">new</span> Image,Jazz.zoomOut.src=t+<span class="string">"gray_zoom_out.png"</span>,<span class="keyword">this</span>.setupHelperImages()},<span class="keyword">this</span>.setupHelperImages=<span class="keyword">function</span>(){<span class="keyword">var</span> e=Jazz.$(<span class="string">"script[src*=jazz]"</span>).attr(<span class="string">"src"</span>);e=e.substring(<span class="number">0</span>,e.lastIndexOf(<span class="string">"/"</span>)+<span class="number">1</span>);<span class="keyword">var</span> t=Jazz.filePath=e+<span class="string">"images/"</span>;Jazz.upHelperArrow=<span class="keyword">new</span> Image,Jazz.upHelperArrow.src=t+<span class="string">"gray_up_arrow.png"</span>,Jazz.downHelperArrow=<span class="keyword">new</span> Image,Jazz.downHelperArrow.src=t+<span class="string">"gray_down_arrow.png"</span>,Jazz.rightHelperArrow=<span class="keyword">new</span> Image,Jazz.rightHelperArrow.src=t+<span class="string">"gray_right_arrow.png"</span>,Jazz.leftHelperArrow=<span class="keyword">new</span> Image,Jazz.leftHelperArrow.src=t+<span class="string">"gray_left_arrow.png"</span>},<span class="keyword">this</span>.threshold=<span class="keyword">function</span>(e){<span class="keyword">return</span><span class="string">"zoomIn"</span>===e?-<span class="number">10</span>:<span class="string">"zoomOut"</span>===e?<span class="number">120</span>:<span class="string">"up"</span>===e?<span class="number">225</span>:<span class="string">"down"</span>===e?<span class="number">90</span>:<span class="string">"left"</span>===e?-<span class="number">80</span>:<span class="string">"right"</span>===e?<span class="number">80</span>:<span class="keyword">void</span> <span class="number">0</span>},Jazz.event={finger:<span class="keyword">function</span>(){},navigation:<span class="keyword">function</span>(){},gestures:<span class="keyword">function</span>(){},frames:<span class="keyword">function</span>(){},progress:<span class="keyword">function</span>(){},grab:<span class="keyword">function</span>(){},release:<span class="keyword">function</span>(){}},Jazz.lastDigitsFound=<span class="number">0</span>,Jazz.handNavigation=<span class="string">""</span>,Jazz.WAIT_FINGER_MS=<span class="number">700</span>,Jazz.LAST_VALID_FINGER=<span class="number">2</span>,Jazz.WAIT_INTERVAL_TIMER=<span class="number">40</span>,Jazz.CIRCLE_RADIUS=<span class="number">1.6</span>,Jazz.opacity=<span class="number">.45</span>,Jazz.fingersText=[],Jazz.arrowColor=<span class="string">"black"</span>,Jazz.incr=<span class="number">0</span>,Jazz.lastFrame={},Jazz.handsArray=[],Jazz.timerPercentage=<span class="number">0</span>,Jazz.simpleMode=!<span class="number">0</span>,Jazz.disableZoom=!<span class="number">1</span>,Jazz.disableHelper=!<span class="number">1</span>,Jazz.disableTimer=!<span class="number">1</span>,Jazz.disableFingers=!<span class="number">1</span>,Jazz.showUI=!<span class="number">0</span>,Jazz.isGrabbing=!<span class="number">1</span>,Jazz.isReady=!<span class="number">1</span>,Jazz.FIRST=<span class="number">0</span>,Jazz.SECOND=<span class="number">1</span>,Jazz.THIRD=<span class="number">2</span>,Jazz.FOURTH=<span class="number">3</span>}<span class="function"><span class="keyword">function</span> <span class="title">JazzEventHelper</span><span class="params">()</span>{</span><span class="keyword">var</span> e=Jazz.hands,t=Jazz.config,n=<span class="number">200</span>;<span class="keyword">this</span>.handleNavigation=<span class="keyword">function</span>(){<span class="keyword">return</span> e.getCapturedDigits()&lt;Jazz.LAST_VALID_FINGER?!<span class="number">1</span>:(e.hasDetectedHand()===!<span class="number">0</span>&amp;&amp;(e.isNewHandMotion()===!<span class="number">0</span>&amp;&amp;(<span class="keyword">this</span>.clearTimeoutForNav(),<span class="keyword">this</span>.setTimeoutForNav()),Jazz.ui.getDetectedNav()===!<span class="number">1</span>&amp;&amp;(<span class="keyword">this</span>.clearTimeoutForNav(),Jazz.handNavigation=<span class="literal">null</span>),Jazz.handNavigation=Jazz.ui.getDetectedNav()),<span class="keyword">void</span> <span class="number">0</span>)},<span class="keyword">this</span>.isHandMovingQuickly=<span class="keyword">function</span>(){<span class="keyword">return</span> <span class="keyword">this</span>.isHandMovingOutQuickly()||<span class="keyword">this</span>.isHandMovingInQuickly()},<span class="keyword">this</span>.isHandMovingOutQuickly=<span class="keyword">function</span>(){<span class="keyword">if</span>(Jazz.handsArray.length&gt;<span class="number">0</span>){<span class="keyword">var</span> e=Jazz.handsArray[<span class="number">0</span>].palmVelocity[<span class="number">0</span>],t=Jazz.handsArray[<span class="number">0</span>].palmVelocity[<span class="number">1</span>],i=Jazz.handsArray[<span class="number">0</span>].palmVelocity[<span class="number">2</span>];<span class="keyword">return</span>-<span class="number">1</span>*n&gt;e||-<span class="number">1</span>*n&gt;t||-<span class="number">1</span>*n&gt;i?!<span class="number">0</span>:!<span class="number">1</span>}<span class="keyword">return</span>!<span class="number">1</span>},<span class="keyword">this</span>.isHandMovingInQuickly=<span class="keyword">function</span>(){<span class="keyword">if</span>(Jazz.handsArray.length&gt;<span class="number">0</span>){<span class="keyword">var</span> e=Jazz.handsArray[<span class="number">0</span>].palmVelocity[<span class="number">0</span>],t=Jazz.handsArray[<span class="number">0</span>].palmVelocity[<span class="number">1</span>],i=Jazz.handsArray[<span class="number">0</span>].palmVelocity[<span class="number">2</span>];<span class="keyword">return</span> e&gt;n||t&gt;n||i&gt;n?!<span class="number">0</span>:!<span class="number">1</span>}<span class="keyword">return</span>!<span class="number">1</span>},<span class="keyword">this</span>.handleGrabRelease=<span class="keyword">function</span>(){<span class="keyword">return</span> <span class="keyword">this</span>.isHandMovingOutQuickly()===!<span class="number">1</span>&amp;&amp;<span class="number">0</span>===Jazz.handsArray.length?(Jazz.isGrabbing===!<span class="number">0</span>&amp;&amp;(Jazz.isGrabbing=!<span class="number">1</span>,Jazz.event.release()),<span class="keyword">void</span> <span class="number">0</span>):(e.getCapturedDigits()&lt;=<span class="number">1</span>?(<span class="keyword">this</span>.isHandMovingOutQuickly()===!<span class="number">1</span>&amp;&amp;Jazz.isGrabbing===!<span class="number">1</span>&amp;&amp;Jazz.event.grab(),Jazz.isGrabbing=!<span class="number">0</span>):<span class="keyword">this</span>.isHandMovingOutQuickly()===!<span class="number">1</span>&amp;&amp;Jazz.isGrabbing===!<span class="number">0</span>&amp;&amp;(Jazz.isGrabbing=!<span class="number">1</span>,Jazz.event.release()),<span class="keyword">void</span> <span class="number">0</span>)},<span class="keyword">this</span>.handleProgressNav=<span class="keyword">function</span>(){<span class="keyword">var</span> n,i,r,a,o,s;<span class="keyword">if</span>(Jazz.handsArray.length&gt;<span class="number">0</span>){<span class="keyword">var</span> l=parseInt(<span class="number">100</span>*Jazz.handsArray[<span class="number">0</span>].roll()),c=parseInt(<span class="number">100</span>*Jazz.handsArray[<span class="number">0</span>].pitch())-<span class="number">40</span>,u=parseInt(<span class="number">100</span>*Jazz.handsArray[<span class="number">0</span>].yaw())+<span class="number">10</span>;n=i=r=a=o=s=<span class="number">0</span>,l&gt;<span class="number">0</span>?(s=l,s&gt;<span class="number">100</span>&amp;&amp;(s=<span class="number">100</span>)):<span class="number">0</span>&gt;l&amp;&amp;(o=-<span class="number">1</span>*l,o&gt;<span class="number">100</span>&amp;&amp;(o=<span class="number">100</span>)),c&gt;<span class="number">0</span>?(r=c,r&gt;<span class="number">100</span>&amp;&amp;(r=<span class="number">100</span>)):<span class="number">0</span>&gt;c&amp;&amp;(a=-<span class="number">1</span>*c,a&gt;<span class="number">100</span>&amp;&amp;(a=<span class="number">100</span>)),u&gt;<span class="number">0</span>?(i=u,i&gt;<span class="number">100</span>&amp;&amp;(i=<span class="number">100</span>)):<span class="number">0</span>&gt;u&amp;&amp;(n=-<span class="number">1</span>*u,n&gt;<span class="number">100</span>&amp;&amp;(n=<span class="number">100</span>))}<span class="keyword">if</span>(<span class="keyword">this</span>.isHandMovingQuickly()!==!<span class="number">0</span>&amp;&amp;<span class="number">0</span>!==Jazz.handsArray.length){<span class="keyword">var</span> d=t.threshold(<span class="string">"up"</span>)-t.threshold(<span class="string">"down"</span>),p=(e.palm(<span class="string">"vertical"</span>)-t.threshold(<span class="string">"down"</span>))/d;p&gt;<span class="number">1</span>&amp;&amp;(p=<span class="number">1</span>),<span class="number">0</span>&gt;p&amp;&amp;(p=<span class="number">0</span>);<span class="keyword">var</span> h=<span class="number">1</span>-p,f=t.threshold(<span class="string">"right"</span>)-t.threshold(<span class="string">"left"</span>),m=(e.palm(<span class="string">"horizontal"</span>)-t.threshold(<span class="string">"left"</span>))/f;m&gt;<span class="number">1</span>&amp;&amp;(m=<span class="number">1</span>),<span class="number">0</span>&gt;m&amp;&amp;(m=<span class="number">0</span>);<span class="keyword">var</span> g=<span class="number">1</span>-m,v=t.threshold(<span class="string">"zoomIn"</span>)-t.threshold(<span class="string">"zoomOut"</span>),y=(e.palm(<span class="string">"depth"</span>)-t.threshold(<span class="string">"zoomOut"</span>))/v;y&gt;<span class="number">1</span>&amp;&amp;(y=<span class="number">1</span>),<span class="number">0</span>&gt;y&amp;&amp;(y=<span class="number">0</span>);<span class="keyword">var</span> b=<span class="number">1</span>-y,$={up:parseInt(<span class="number">100</span>*p),down:parseInt(<span class="number">100</span>*h),right:parseInt(<span class="number">100</span>*m),left:parseInt(<span class="number">100</span>*g),zoomIn:parseInt(<span class="number">100</span>*y),zoomOut:parseInt(<span class="number">100</span>*b),pitchUp:r,pitchDown:a,rollRight:o,rollLeft:s,yawRight:i,yawLeft:n};<span class="keyword">return</span> Jazz.event.progress($),$}},<span class="keyword">this</span>.handleFingers=<span class="keyword">function</span>(){e.isNewFingerCount()&amp;&amp;<span class="keyword">this</span>.clearTimeoutForDigits(),e.isHoldingValidFinger()&amp;&amp;<span class="keyword">this</span>.setTimeoutForDigits(),Jazz.lastDigitsFound=e.getCapturedDigits()},<span class="keyword">this</span>.handleGestureEvents=<span class="keyword">function</span>(){<span class="keyword">var</span> t=Jazz.lastFrame.gestures;<span class="keyword">if</span>(e.getCapturedDigits()&gt;<span class="number">0</span>&amp;&amp;t.length&gt;<span class="number">0</span>)<span class="keyword">for</span>(<span class="keyword">var</span> n=<span class="number">0</span>;n&lt;t.length;n++)Jazz.lastGesture=t[n];<span class="keyword">else</span> <span class="keyword">if</span>(Jazz.lastGesture){<span class="keyword">var</span> i=Jazz.lastGesture,r=!<span class="number">0</span>;<span class="string">"circle"</span>===i.type&amp;&amp;i.radius&lt;<span class="number">100</span>&amp;&amp;(r=!<span class="number">1</span>),r===!<span class="number">0</span>&amp;&amp;Jazz.event.gestures(Jazz.lastGesture),Jazz.lastGesture=<span class="literal">null</span>}},<span class="keyword">this</span>.clearTimeoutForDigits=<span class="keyword">function</span>(){Jazz.frameDigitCount&gt;<span class="number">0</span>&amp;&amp;(clearTimeout(Jazz.intervalTimer),Jazz.lastDigitsFound=Jazz.incr=Jazz.timerPercentage=<span class="number">0</span>)},<span class="keyword">this</span>.setTimeoutForDigits=<span class="keyword">function</span>(){<span class="keyword">this</span>.clearTimeoutForDigits(),Jazz.intervalTimer=setInterval(<span class="keyword">function</span>(){Jazz.incr+=Jazz.WAIT_INTERVAL_TIMER,Jazz.ui.getTimerPercentage()&gt;<span class="number">100</span>&amp;&amp;(clearTimeout(Jazz.intervalTimer),Jazz.handsArray.length&gt;<span class="number">0</span>&amp;&amp;Jazz.lastDigitsFound&lt;Jazz.LAST_VALID_FINGER&amp;&amp;Jazz.event.fingers(e.getCapturedDigits()))},Jazz.WAIT_INTERVAL_TIMER)},<span class="keyword">this</span>.clearTimeoutForNav=<span class="keyword">function</span>(){clearTimeout(Jazz.intervalTimer),Jazz.handNavigation=Jazz.incr=Jazz.timerPercentage=<span class="number">0</span>},<span class="keyword">this</span>.setTimeoutForNav=<span class="keyword">function</span>(){<span class="keyword">var</span> e=<span class="keyword">this</span>;<span class="keyword">this</span>.clearTimeoutForNav(),Jazz.intervalTimer=setInterval(<span class="keyword">function</span>(){Jazz.incr+=Jazz.WAIT_INTERVAL_TIMER,Jazz.ui.getTimerPercentage()&gt;<span class="number">100</span>&amp;&amp;(clearTimeout(Jazz.intervalTimer),Jazz.handsArray.length&gt;<span class="number">0</span>&amp;&amp;(Jazz.event.navigation(Jazz.handNavigation),Jazz.lastHand=Jazz.handNavigation,Jazz.repeatNavInterval=setTimeout(<span class="keyword">function</span>(){Jazz.handNavigation===Jazz.lastHand&amp;&amp;(e.clearTimeoutForNav(),clearTimeout(Jazz.repeatNavInterval))},<span class="number">900</span>)))},Jazz.WAIT_INTERVAL_TIMER)}}<span class="function"><span class="keyword">function</span> <span class="title">JazzEvents</span><span class="params">()</span>{</span><span class="keyword">var</span> e=Jazz.ui,t=Jazz.hands,n=<span class="keyword">new</span> JazzEventHelper;<span class="keyword">this</span>.loop=<span class="keyword">function</span>(i){Jazz.lastFrame=i,Jazz.handsArray=i.hands,Jazz.handsArray.length&gt;<span class="number">0</span>?e.showCanvas():(e.hideCanvas(),Jazz.handNavigation=<span class="literal">null</span>),Jazz.fingers=Jazz.frameDigitCount=i.pointables.length,e.updateCanvas(),Jazz.frameDigitCount&gt;=Jazz.LAST_VALID_FINGER?Jazz.simpleMode=!<span class="number">0</span>:(Jazz.simpleMode=!<span class="number">1</span>,Jazz.disableFingers===!<span class="number">1</span>&amp;&amp;n.handleFingers()),Jazz.isGrabbing===!<span class="number">1</span>&amp;&amp;t.isHoldingValidFinger()===!<span class="number">1</span>&amp;&amp;n.handleNavigation(),n.handleGestureEvents(),n.handleGrabRelease(),n.handleProgressNav(),Jazz.event.frames(Jazz.lastFrame)},<span class="keyword">this</span>.getFingersMap=<span class="keyword">function</span>(e){<span class="keyword">return</span> Jazz.lastFrame.pointablesMap?e?Jazz.lastFrame.pointablesMap[e]:Jazz.lastFrame.pointablesMap:<span class="keyword">void</span> <span class="number">0</span>}}<span class="function"><span class="keyword">function</span> <span class="title">JazzHands</span><span class="params">()</span>{</span><span class="keyword">this</span>.getFingersMap=<span class="keyword">function</span>(e){<span class="keyword">return</span> Jazz.lastFrame.pointablesMap?e?Jazz.lastFrame.pointablesMap[e]:Jazz.lastFrame.pointablesMap:<span class="keyword">void</span> <span class="number">0</span>},<span class="keyword">this</span>.getFinger=<span class="keyword">function</span>(e){<span class="keyword">return</span> <span class="keyword">this</span>.getFingersMap(e)},<span class="keyword">this</span>.getRadiusForFinger=<span class="keyword">function</span>(e){<span class="keyword">return</span> Math.min(<span class="number">600</span>/Math.abs(e[<span class="number">2</span>]),<span class="number">20</span>)*Jazz.CIRCLE_RADIUS},<span class="keyword">this</span>.getYForCoords=<span class="keyword">function</span>(e){<span class="keyword">return</span>-e[<span class="number">1</span>]-<span class="number">120</span>-<span class="keyword">this</span>.getRadiusForFinger(e)/<span class="number">2</span>},<span class="keyword">this</span>.getXForCoords=<span class="keyword">function</span>(e){<span class="keyword">return</span> parseInt(e[<span class="number">0</span>]-<span class="number">900</span>-<span class="keyword">this</span>.getRadiusForFinger(e)/<span class="number">2</span>)},<span class="keyword">this</span>.getCapturedDigits=<span class="keyword">function</span>(){<span class="keyword">return</span> Jazz.frameDigitCount},<span class="keyword">this</span>.isNewFingerCount=<span class="keyword">function</span>(){<span class="keyword">return</span> <span class="number">0</span>===<span class="keyword">this</span>.getCapturedDigits()||Jazz.lastDigitsFound!==<span class="keyword">this</span>.getCapturedDigits()},<span class="keyword">this</span>.isHoldingFinger=<span class="keyword">function</span>(){<span class="keyword">return</span> <span class="keyword">this</span>.getCapturedDigits()&gt;<span class="number">0</span>&amp;&amp;<span class="keyword">this</span>.isNewFingerCount()===!<span class="number">0</span>},<span class="keyword">this</span>.isValidFinger=<span class="keyword">function</span>(){<span class="keyword">return</span> <span class="keyword">this</span>.getCapturedDigits()&gt;<span class="number">0</span>&amp;&amp;<span class="keyword">this</span>.getCapturedDigits()&lt;=Jazz.LAST_VALID_FINGER},<span class="keyword">this</span>.isHoldingValidFinger=<span class="keyword">function</span>(){<span class="keyword">return</span>(<span class="keyword">this</span>.isHoldingFinger()&amp;&amp;<span class="keyword">this</span>.isValidFinger())===!<span class="number">0</span>},<span class="keyword">this</span>.hasDetectedHand=<span class="keyword">function</span>(){<span class="keyword">return</span> Jazz.handsArray.length&gt;<span class="number">0</span>},<span class="keyword">this</span>.isNewHandMotion=<span class="keyword">function</span>(){<span class="keyword">return</span> Jazz.handNavigation!==Jazz.ui.getDetectedNav()},<span class="keyword">this</span>.getFirstFingerPos=<span class="keyword">function</span>(){<span class="keyword">for</span>(<span class="keyword">var</span> e <span class="keyword">in</span> <span class="keyword">this</span>.getFingersMap())<span class="keyword">return</span> <span class="keyword">this</span>.getFingersMap(e).tipPosition},<span class="keyword">this</span>.getHandPos=<span class="keyword">function</span>(e){<span class="keyword">return</span> Jazz.handsArray.length&lt;=<span class="number">0</span>?<span class="keyword">void</span> <span class="number">0</span>:<span class="number">0</span>===e?<span class="keyword">this</span>.getXForCoords(Jazz.handsArray[<span class="number">0</span>].palmPosition):<span class="keyword">this</span>.getYForCoords(Jazz.handsArray[<span class="number">0</span>].palmPosition)},<span class="keyword">this</span>.getHandPosX=<span class="keyword">function</span>(){<span class="keyword">return</span> <span class="keyword">this</span>.getHandPos(<span class="number">0</span>)},<span class="keyword">this</span>.getHandPosY=<span class="keyword">function</span>(){<span class="keyword">return</span> <span class="keyword">this</span>.getHandPos(<span class="number">1</span>)},<span class="keyword">this</span>.palm=<span class="keyword">function</span>(e){<span class="keyword">if</span>(<span class="number">0</span>!==Jazz.handsArray.length){<span class="keyword">var</span> t=Jazz.handsArray[<span class="number">0</span>];<span class="keyword">return</span><span class="string">"horizontal"</span>===e?t.palmPosition[<span class="number">0</span>]:<span class="string">"vertical"</span>===e?t.palmPosition[<span class="number">1</span>]:<span class="string">"depth"</span>===e?t.palmPosition[<span class="number">2</span>]:<span class="keyword">void</span> <span class="number">0</span>}},<span class="keyword">this</span>.isNewHand=<span class="keyword">function</span>(){<span class="keyword">return</span> Jazz.lastHandId==Jazz.handsArray[<span class="number">0</span>].id}}<span class="function"><span class="keyword">function</span> <span class="title">JazzUI</span><span class="params">()</span>{</span><span class="keyword">var</span> e=<span class="keyword">new</span> JazzUIHelper,t=Jazz.hands;<span class="keyword">this</span>.createFingerCanvas=<span class="keyword">function</span>(){Jazz.canvas=<span class="keyword">this</span>.appendCanvasToDOM(),e.evalCtx(<span class="keyword">function</span>(e){e.translate(<span class="number">1.2</span>*Jazz.canvas.width,Jazz.canvas.height),e.globalAlpha=Jazz.opacity})},<span class="keyword">this</span>.show=<span class="keyword">function</span>(){Jazz.showUI=!<span class="number">0</span>},<span class="keyword">this</span>.hide=<span class="keyword">function</span>(){Jazz.showUI=!<span class="number">1</span>},<span class="keyword">this</span>.clearFingersText=<span class="keyword">function</span>(){Jazz.fingersText=[],Jazz.disableFingers=!<span class="number">1</span>,Jazz.LAST_VALID_FINGER=<span class="number">1</span>},<span class="keyword">this</span>.showCanvas=<span class="keyword">function</span>(){Jazz.showUI===!<span class="number">0</span>&amp;&amp;(document.getElementById(<span class="string">"jazz-fingers"</span>).style.display=<span class="string">"block"</span>,document.getElementById(<span class="string">"jazz-fingers-shadow"</span>).style.display=<span class="string">"block"</span>)},<span class="keyword">this</span>.hideCanvas=<span class="keyword">function</span>(){document.getElementById(<span class="string">"jazz-fingers"</span>).style.display=<span class="string">"none"</span>,document.getElementById(<span class="string">"jazz-fingers-shadow"</span>).style.display=<span class="string">"none"</span>},<span class="keyword">this</span>.updateCanvas=<span class="keyword">function</span>(){<span class="keyword">this</span>.clearCanvas();<span class="keyword">var</span> n=<span class="number">0</span>;<span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> t.getFingersMap()){<span class="keyword">var</span> r=++n===Jazz.lastFrame.fingers.length,a=Jazz.timerPercentage&gt;<span class="number">10</span>&amp;&amp;r,o=t.getFinger(i).tipPosition;<span class="keyword">if</span>(Jazz.simpleMode===!<span class="number">0</span>&amp;&amp;Jazz.handsArray.length&gt;<span class="number">0</span>&amp;&amp;(o=Jazz.handsArray[<span class="number">0</span>].palmPosition),e.drawCircle(o),Jazz.disableHelper===!<span class="number">1</span>&amp;&amp;e.drawHelperArrows(),Jazz.disableTimer===!<span class="number">1</span>&amp;&amp;e.drawTimerArc(o,Jazz.timerPercentage),a&amp;&amp;Jazz.disableFingers===!<span class="number">1</span>&amp;&amp;e.drawFingerText(),Jazz.simpleMode===!<span class="number">0</span>)<span class="keyword">return</span>}},<span class="keyword">this</span>.setFingersText=<span class="keyword">function</span>(e){e?(Jazz.fingersText=e,Jazz.disableFingers=!<span class="number">1</span>,Jazz.LAST_VALID_FINGER=e.length+<span class="number">1</span>):Jazz.clearFingersText()},<span class="keyword">this</span>.clearCanvas=<span class="keyword">function</span>(){<span class="keyword">var</span> t=Jazz.canvas;e.evalCtx(<span class="keyword">function</span>(e){e.clearRect(<span class="number">1.2</span>*-t.width,-t.height,<span class="number">1.2</span>*t.width,t.height)})},<span class="keyword">this</span>.appendCanvasToDOM=<span class="keyword">function</span>(){<span class="keyword">var</span> t=e.createBaseCanvas(!<span class="number">1</span>,<span class="string">"jazz-fingers"</span>),n=e.createBaseCanvas(!<span class="number">0</span>,<span class="string">"jazz-fingers-shadow"</span>);<span class="keyword">return</span> Jazz.blurredCanvas=n,document.body.appendChild(n),document.body.appendChild(t),t},<span class="keyword">this</span>.getTimerPercentage=<span class="keyword">function</span>(){<span class="keyword">return</span> Jazz.timerPercentage=parseInt(<span class="number">100</span>*(Jazz.incr/Jazz.WAIT_FINGER_MS)),Jazz.timerPercentage},<span class="keyword">this</span>.getDetectedNav=<span class="keyword">function</span>(){<span class="keyword">var</span> t=!<span class="number">1</span>;<span class="keyword">return</span> e.canDrawHandLeft()?t=<span class="string">"left"</span>:e.canDrawHandRight()?t=<span class="string">"right"</span>:e.canDrawHandUp()?t=<span class="string">"up"</span>:e.canDrawHandDown()?t=<span class="string">"down"</span>:e.canDrawZoomIn()?t=<span class="string">"zoomIn"</span>:e.canDrawZoomOut()&amp;&amp;(t=<span class="string">"zoomOut"</span>),t}}<span class="function"><span class="keyword">function</span> <span class="title">JazzUIHelper</span><span class="params">()</span>{</span><span class="keyword">var</span> e=Jazz.hands;<span class="keyword">this</span>.drawFingerText=<span class="keyword">function</span>(){Jazz.frameDigitCount===Jazz.FIRST+<span class="number">1</span>?<span class="keyword">this</span>.drawText(Jazz.fingersText[Jazz.FIRST],e.getHandPosX(),e.getHandPosY()):Jazz.frameDigitCount===Jazz.SECOND+<span class="number">1</span>?<span class="keyword">this</span>.drawText(Jazz.fingersText[Jazz.SECOND],e.getHandPosX(),e.getHandPosY()):Jazz.frameDigitCount===Jazz.THIRD+<span class="number">1</span>?<span class="keyword">this</span>.drawText(Jazz.fingersText[Jazz.THIRD],e.getHandPosX(),e.getHandPosY()):Jazz.frameDigitCount===Jazz.FOURTH+<span class="number">1</span>&amp;&amp;<span class="keyword">this</span>.drawText(Jazz.fingersText[Jazz.FOURTH],e.getHandPosX(),e.getHandPosY())},<span class="keyword">this</span>.drawTimerArc=<span class="keyword">function</span>(t,n){<span class="number">5</span>&gt;n||(radius=<span class="number">2</span>*<span class="number">.01</span>*n*Math.PI,<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(n){n.beginPath(),n.arc(e.getXForCoords(t),e.getYForCoords(t),<span class="number">30</span>,<span class="number">0</span>,radius),n.lineWidth=<span class="number">10</span>,n.strokeStyle=<span class="string">"green"</span>,n.stroke()}))},<span class="keyword">this</span>.getContext=<span class="keyword">function</span>(){<span class="keyword">return</span> Jazz.ctx?Jazz.ctx:(Jazz.ctx=Jazz.canvas.getContext(<span class="string">"2d"</span>),Jazz.ctx)},<span class="keyword">this</span>.getBlurredContext=<span class="keyword">function</span>(){<span class="keyword">return</span> Jazz.blurredCtx?Jazz.blurredCtx:(Jazz.blurredCtx=Jazz.blurredCanvas.getContext(<span class="string">"2d"</span>),Jazz.blurredCtx)},<span class="keyword">this</span>.getContexts=<span class="keyword">function</span>(){<span class="keyword">return</span>[<span class="keyword">this</span>.getContext(),<span class="keyword">this</span>.getBlurredContext()]},<span class="keyword">this</span>.evalCtx=<span class="keyword">function</span>(e){Jazz.$.each(<span class="keyword">this</span>.getContexts(),<span class="keyword">function</span>(t,n){e(n)})},<span class="keyword">this</span>.createBaseCanvas=<span class="keyword">function</span>(e,t){<span class="keyword">var</span> n=document.createElement(<span class="string">"canvas"</span>),i=<span class="number">.9</span>*document.body.clientWidth,r=<span class="string">"position:absolute;top:105px;left:-25px;"</span>;<span class="keyword">return</span> <span class="number">1e3</span>&gt;i&amp;&amp;(i=<span class="number">1050</span>),e&amp;&amp;(r+=<span class="keyword">this</span>.blurStyle()),n.setAttribute(<span class="string">"id"</span>,t),n.setAttribute(<span class="string">"style"</span>,r),n.setAttribute(<span class="string">"width"</span>,i+<span class="string">"px"</span>),n.setAttribute(<span class="string">"height"</span>,<span class="string">"410px"</span>),n},<span class="keyword">this</span>.drawCircle=<span class="keyword">function</span>(t){<span class="number">0</span>===Jazz.timerPercentage&amp;&amp;<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(n){n.beginPath(),n.arc(e.getXForCoords(t),e.getYForCoords(t),e.getRadiusForFinger(t),<span class="number">0</span>,<span class="number">2</span>*Math.PI),n.fill()})},<span class="keyword">this</span>.blurStyle=<span class="keyword">function</span>(){<span class="keyword">return</span><span class="string">"-webkit-filter: blur(10px);-moz-filter: blur(10px);-o-filter: blur(10px);-ms-filter: blur(10px)filter: blur(10px);"</span>},<span class="keyword">this</span>.drawText=<span class="keyword">function</span>(e,t,n){e&amp;&amp;<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(i){i.clearRect(<span class="number">0</span>,<span class="number">0</span>,Jazz.canvas.width,Jazz.canvas.height),i.font=<span class="string">"bold 22pt Arial"</span>,i.fillStyle=Jazz.fillStyle,i.strokeStyle=<span class="string">"white"</span>,i.fillText(e,t,n-<span class="number">30</span>)})},<span class="keyword">this</span>.drawHelperArrows=<span class="keyword">function</span>(){<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(t){t.drawImage(Jazz.upHelperArrow,e.getHandPosX()-<span class="number">17</span>,-<span class="number">390</span>),t.drawImage(Jazz.rightHelperArrow,-<span class="number">820</span>,e.getHandPosY()-<span class="number">15</span>),t.drawImage(Jazz.leftHelperArrow,-<span class="number">1030</span>,e.getHandPosY()-<span class="number">15</span>),t.drawImage(Jazz.downHelperArrow,e.getHandPosX()-<span class="number">17</span>,-<span class="number">215</span>)})},<span class="keyword">this</span>.drawUpArrow=<span class="keyword">function</span>(){<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(t){t.drawImage(Jazz.upArrow,e.getHandPosX()-<span class="number">17</span>,e.getHandPosY()-<span class="number">15</span>)})},<span class="keyword">this</span>.drawDownArrow=<span class="keyword">function</span>(){<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(t){t.drawImage(Jazz.downArrow,e.getHandPosX()-<span class="number">17</span>,e.getHandPosY()-<span class="number">15</span>)})},<span class="keyword">this</span>.drawLeftArrow=<span class="keyword">function</span>(){<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(t){t.drawImage(Jazz.leftArrow,e.getHandPosX()-<span class="number">17</span>,e.getHandPosY()-<span class="number">15</span>)})},<span class="keyword">this</span>.drawRightArrow=<span class="keyword">function</span>(){<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(t){t.drawImage(Jazz.rightArrow,e.getHandPosX()-<span class="number">14</span>,e.getHandPosY()-<span class="number">15</span>)})},<span class="keyword">this</span>.drawZoomInIcon=<span class="keyword">function</span>(){<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(t){t.drawImage(Jazz.zoomIn,e.getHandPosX()-<span class="number">24</span>,e.getHandPosY()-<span class="number">20</span>)})},<span class="keyword">this</span>.drawZoomOutIcon=<span class="keyword">function</span>(){<span class="keyword">this</span>.evalCtx(<span class="keyword">function</span>(t){t.drawImage(Jazz.zoomOut,e.getHandPosX()-<span class="number">19</span>,e.getHandPosY()-<span class="number">20</span>)})},<span class="keyword">this</span>.canDrawHandUp=<span class="keyword">function</span>(){<span class="keyword">return</span> e.palm(<span class="string">"vertical"</span>)&gt;Jazz.config.threshold(<span class="string">"up"</span>)?(<span class="keyword">this</span>.drawUpArrow(),!<span class="number">0</span>):!<span class="number">1</span>},<span class="keyword">this</span>.canDrawHandDown=<span class="keyword">function</span>(){<span class="keyword">return</span> e.palm(<span class="string">"vertical"</span>)&lt;Jazz.config.threshold(<span class="string">"down"</span>)?(<span class="keyword">this</span>.drawDownArrow(),!<span class="number">0</span>):!<span class="number">1</span>},<span class="keyword">this</span>.canDrawHandLeft=<span class="keyword">function</span>(){<span class="keyword">return</span> e.palm(<span class="string">"horizontal"</span>)&lt;Jazz.config.threshold(<span class="string">"left"</span>)?(<span class="keyword">this</span>.drawLeftArrow(),!<span class="number">0</span>):!<span class="number">1</span>},<span class="keyword">this</span>.canDrawHandRight=<span class="keyword">function</span>(){<span class="keyword">return</span> e.palm(<span class="string">"horizontal"</span>)&gt;Jazz.config.threshold(<span class="string">"right"</span>)?(<span class="keyword">this</span>.drawRightArrow(),!<span class="number">0</span>):!<span class="number">1</span>},<span class="keyword">this</span>.canDrawZoomIn=<span class="keyword">function</span>(){<span class="keyword">return</span> e.palm(<span class="string">"depth"</span>)&lt;Jazz.config.threshold(<span class="string">"zoomIn"</span>)&amp;&amp;Jazz.disableZoom===!<span class="number">1</span>?(<span class="keyword">this</span>.drawZoomInIcon(),!<span class="number">0</span>):!<span class="number">1</span>},<span class="keyword">this</span>.canDrawZoomOut=<span class="keyword">function</span>(){<span class="keyword">return</span> e.palm(<span class="string">"depth"</span>)&gt;Jazz.config.threshold(<span class="string">"zoomOut"</span>)&amp;&amp;Jazz.disableZoom===!<span class="number">1</span>?(<span class="keyword">this</span>.drawZoomOutIcon(),!<span class="number">0</span>):!<span class="number">1</span>}}!<span class="keyword">function</span>(){<span class="keyword">var</span> e=<span class="keyword">this</span>.Jazz={};e.hands=<span class="keyword">new</span> JazzHands,e.ui=<span class="keyword">new</span> JazzUI,e.config=<span class="keyword">new</span> JazzConfig,e.events=<span class="keyword">new</span> JazzEvents,e.$=<span class="keyword">this</span>.jQuery,e.VERSION=<span class="string">"0.5"</span>,e.init=<span class="keyword">function</span>(t,n){e.config.configureFromOptions(t),e.leapController=<span class="keyword">new</span> Leap.Controller({enableGestures:!<span class="number">0</span>}),e.ui.createFingerCanvas(),e.leapController.loop(<span class="keyword">function</span>(t){e.events.loop(t)}),n&amp;&amp;n()},e.show=<span class="keyword">function</span>(){e.ui.show()},e.hide=<span class="keyword">function</span>(){e.ui.showUI=!<span class="number">1</span>},e.clearFingersText=<span class="keyword">function</span>(){e.ui.clearFingersText()},e.setFingersText=<span class="keyword">function</span>(t){e.ui.setFingersText(t)},e.on=<span class="keyword">function</span>(t,n){e.event[t]=n}}.call(<span class="keyword">this</span>);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
